<html lang="en"><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Working With Files - Gradle User Manual</title><link xmlns:xslthl="http://xslthl.sf.net" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,400i,700"><link xmlns:xslthl="http://xslthl.sf.net" crossorigin="crossorigin" href="//assets.gradle.com" rel="preconnect"><meta xmlns:xslthl="http://xslthl.sf.net" content="width=device-width, initial-scale=1" name="viewport"><link xmlns:xslthl="http://xslthl.sf.net" type="text/css" rel="stylesheet" href="base.css"><meta content="DocBook XSL Stylesheets V1.75.2" name="generator"><link rel="home" href="userguide.html" title="Gradle User Manual"><link rel="up" href="pt03.html" title="Writing Gradle build scripts"></head><body><header xmlns:xslthl="http://xslthl.sf.net" itemtype="https://schema.org/WPHeader" itemscope="itemscope" class="site-layout__header site-header"><nav itemtype="https://schema.org/SiteNavigationElement" itemscope="itemscope" class="site-header__navigation"><div class="site-header__navigation-header"><a title="Gradle Docs" href="https://docs.gradle.org" class="logo" target="_top"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 191 43" height="36px" width="160px"><g fill-rule="evenodd" fill="none" stroke-width="1" stroke="none"><g><path fill="#02303A" id="Fill-9" d="M46.678556,7.70171633 C45.120512,4.8834998 42.335823,4.04123121 40.3684979,4.00130115 C37.9547479,3.9523229 35.9723457,5.29706115 36.3472787,6.1798499 C36.427757,6.36937016 36.8802727,7.35867186 37.1580527,7.76702066 C37.5601446,8.35790689 38.2799562,7.90392373 38.5320749,7.76908601 C39.2849364,7.36653985 40.0895198,7.23622623 41.0021397,7.34323092 C41.8745205,7.44551482 43.033468,7.9864393 43.8109923,9.4893242 C45.6407254,13.0263802 39.9923667,20.3060435 32.9221581,15.2649224 C25.8518496,10.2238013 18.9763466,11.8941761 15.8634538,12.9102289 C12.7506609,13.9260851 11.3198246,14.9477439 12.5498645,17.3104037 C14.2214368,20.5211347 13.6673747,19.5359637 15.2882237,22.1937715 C17.8627305,26.4150478 23.4981089,20.2511642 23.4981089,20.2511642 C19.3000571,26.4766148 15.7013989,24.9724514 14.3210861,22.7961647 C13.0771672,20.8346742 12.1106287,18.5733148 12.1106287,18.5733148 C1.47790725,22.3458205 4.35465711,39 4.35465711,39 L9.63497235,39 C10.9812366,32.8678834 15.794558,33.0939899 16.6195105,39 L20.6486178,39 C24.2119295,27.0258991 33.2432725,39 33.2432725,39 L38.4954303,39 C37.0244547,30.8318437 41.4498627,28.2655996 44.2387454,23.4777295 C47.0279277,18.6894661 49.6699325,12.8318441 46.678556,7.70171633 L46.678556,7.70171633 Z M33.1312419,23.4719269 C30.3544409,22.5602233 31.347639,19.7803632 31.347639,19.7803632 C31.347639,19.7803632 33.772672,20.5692278 37.0530115,21.6459626 C36.864197,22.5081962 35.2324645,24.1619498 33.1312419,23.4719269 L33.1312419,23.4719269 Z"/><path fill="#00303A" id="Fill-10" d="M35.9919757,21.336932 C36.0769161,22.1603228 35.477836,22.9008903 34.6537814,22.990975 C33.8297268,23.0810597 33.0929635,22.486564 33.0080231,21.663068 C32.9230827,20.8396772 33.5222651,20.0991097 34.3462175,20.009025 C35.1702721,19.9189403 35.9071376,20.513436 35.9919757,21.336932"/><path fill="#02303A" d="M72.236,22.3 L72.236,29.32 C71.3559956,29.9680032 70.418005,30.4419985 69.422,30.742 C68.425995,31.0420015 67.3600057,31.192 66.224,31.192 C64.8079929,31.192 63.5260057,30.9720022 62.378,30.532 C61.2299943,30.0919978 60.2500041,29.4800039 59.438,28.696 C58.6259959,27.9119961 58.0000022,26.9760054 57.56,25.888 C57.1199978,24.7999946 56.9,23.6120064 56.9,22.324 C56.9,21.0199935 57.1119979,19.8240054 57.536,18.736 C57.9600021,17.6479946 58.5619961,16.7120039 59.342,15.928 C60.1220039,15.1439961 61.0679944,14.5360022 62.18,14.104 C63.2920056,13.6719978 64.5399931,13.456 65.924,13.456 C66.6280035,13.456 67.2859969,13.5119994 67.898,13.624 C68.5100031,13.7360006 69.0779974,13.889999 69.602,14.086 C70.1260026,14.282001 70.6039978,14.5199986 71.036,14.8 C71.4680022,15.0800014 71.8639982,15.3879983 72.224,15.724 L71.3,17.188 C71.1559993,17.4200012 70.9680012,17.5619997 70.736,17.614 C70.5039988,17.6660003 70.2520014,17.6080008 69.98,17.44 L69.188,16.984 C68.9239987,16.8319992 68.6300016,16.7000006 68.306,16.588 C67.9819984,16.4759994 67.618002,16.3840004 67.214,16.312 C66.809998,16.2399996 66.3440026,16.204 65.816,16.204 C64.9599957,16.204 64.1860035,16.3479986 63.494,16.636 C62.8019965,16.9240014 62.2120024,17.3359973 61.724,17.872 C61.2359976,18.4080027 60.8600013,19.0519962 60.596,19.804 C60.3319987,20.5560038 60.2,21.3959954 60.2,22.324 C60.2,23.316005 60.3419986,24.2019961 60.626,24.982 C60.9100014,25.7620039 61.3099974,26.4219973 61.826,26.962 C62.3420026,27.5020027 62.9639964,27.9139986 63.692,28.198 C64.4200036,28.4820014 65.2319955,28.624 66.128,28.624 C66.7680032,28.624 67.3399975,28.5560007 67.844,28.42 C68.3480025,28.2839993 68.8399976,28.1000012 69.32,27.868 L69.32,24.724 L67.136,24.724 C66.927999,24.724 66.7660006,24.6660006 66.65,24.55 C66.5339994,24.4339994 66.476,24.2920008 66.476,24.124 L66.476,22.3 L72.236,22.3 Z M77.504,20.824 C77.8880019,20.0879963 78.3439974,19.5100021 78.872,19.09 C79.4000026,18.6699979 80.0239964,18.46 80.744,18.46 C81.3120028,18.46 81.7679983,18.5839988 82.112,18.832 L81.92,21.052 C81.8799998,21.1960007 81.8220004,21.2979997 81.746,21.358 C81.6699996,21.4180003 81.5680006,21.448 81.44,21.448 C81.3199994,21.448 81.1420012,21.4280002 80.906,21.388 C80.6699988,21.3479998 80.4400011,21.328 80.216,21.328 C79.8879984,21.328 79.5960013,21.3759995 79.34,21.472 C79.0839987,21.5680005 78.854001,21.7059991 78.65,21.886 C78.445999,22.0660009 78.2660008,22.2839987 78.11,22.54 C77.9539992,22.7960013 77.8080007,23.0879984 77.672,23.416 L77.672,31 L74.708,31 L74.708,18.688 L76.448,18.688 C76.7520015,18.688 76.9639994,18.7419995 77.084,18.85 C77.2040006,18.9580005 77.2839998,19.1519986 77.324,19.432 L77.504,20.824 Z M90.008,25.744 C89.1519957,25.7840002 88.4320029,25.8579995 87.848,25.966 C87.2639971,26.0740005 86.7960018,26.2119992 86.444,26.38 C86.0919982,26.5480008 85.8400008,26.7439989 85.688,26.968 C85.5359992,27.1920011 85.46,27.4359987 85.46,27.7 C85.46,28.2200026 85.6139985,28.5919989 85.922,28.816 C86.2300015,29.0400011 86.6319975,29.152 87.128,29.152 C87.736003,29.152 88.2619978,29.0420011 88.706,28.822 C89.1500022,28.6019989 89.5839979,28.2680022 90.008,27.82 L90.008,25.744 Z M83.216,20.404 C84.6320071,19.1079935 86.33599,18.46 88.328,18.46 C89.0480036,18.46 89.6919972,18.5779988 90.26,18.814 C90.8280028,19.0500012 91.307998,19.3779979 91.7,19.798 C92.092002,20.2180021 92.389999,20.7199971 92.594,21.304 C92.798001,21.8880029 92.9,22.5279965 92.9,23.224 L92.9,31 L91.556,31 C91.2759986,31 91.0600008,30.9580004 90.908,30.874 C90.7559992,30.7899996 90.6360004,30.6200013 90.548,30.364 L90.284,29.476 C89.9719984,29.7560014 89.6680015,30.0019989 89.372,30.214 C89.0759985,30.4260011 88.7680016,30.6039993 88.448,30.748 C88.1279984,30.8920007 87.7860018,31.0019996 87.422,31.078 C87.0579982,31.1540004 86.6560022,31.192 86.216,31.192 C85.6959974,31.192 85.2160022,31.1220007 84.776,30.982 C84.3359978,30.8419993 83.9560016,30.6320014 83.636,30.352 C83.3159984,30.0719986 83.0680009,29.7240021 82.892,29.308 C82.7159991,28.8919979 82.628,28.4080028 82.628,27.856 C82.628,27.5439984 82.6799995,27.2340015 82.784,26.926 C82.8880005,26.6179985 83.0579988,26.3240014 83.294,26.044 C83.5300012,25.7639986 83.8359981,25.5000012 84.212,25.252 C84.5880019,25.0039988 85.0499973,24.7880009 85.598,24.604 C86.1460027,24.4199991 86.7839964,24.2700006 87.512,24.154 C88.2400036,24.0379994 89.0719953,23.9680001 90.008,23.944 L90.008,23.224 C90.008,22.3999959 89.8320018,21.790002 89.48,21.394 C89.1279982,20.997998 88.6200033,20.8 87.956,20.8 C87.4759976,20.8 87.0780016,20.8559994 86.762,20.968 C86.4459984,21.0800006 86.1680012,21.2059993 85.928,21.346 C85.6879988,21.4860007 85.470001,21.6119994 85.274,21.724 C85.077999,21.8360006 84.8600012,21.892 84.62,21.892 C84.411999,21.892 84.2360007,21.8380005 84.092,21.73 C83.9479993,21.6219995 83.8320004,21.4960007 83.744,21.352 L83.216,20.404 Z M103.412,21.832 C103.075998,21.423998 102.710002,21.1360008 102.314,20.968 C101.917998,20.7999992 101.492002,20.716 101.036,20.716 C100.587998,20.716 100.184002,20.7999992 99.824,20.968 C99.4639982,21.1360008 99.1560013,21.3899983 98.9,21.73 C98.6439987,22.0700017 98.4480007,22.5019974 98.312,23.026 C98.1759993,23.5500026 98.108,24.1679964 98.108,24.88 C98.108,25.6000036 98.1659994,26.2099975 98.282,26.71 C98.3980006,27.2100025 98.5639989,27.6179984 98.78,27.934 C98.9960011,28.2500016 99.2599984,28.4779993 99.572,28.618 C99.8840016,28.7580007 100.231998,28.828 100.616,28.828 C101.232003,28.828 101.755998,28.7000013 102.188,28.444 C102.620002,28.1879987 103.027998,27.8240024 103.412,27.352 L103.412,21.832 Z M106.376,13.168 L106.376,31 L104.564,31 C104.171998,31 103.924001,30.8200018 103.82,30.46 L103.568,29.272 C103.071998,29.8400028 102.502003,30.2999982 101.858,30.652 C101.213997,31.0040018 100.464004,31.18 99.608,31.18 C98.9359966,31.18 98.3200028,31.0400014 97.76,30.76 C97.1999972,30.4799986 96.718002,30.0740027 96.314,29.542 C95.909998,29.0099973 95.5980011,28.3520039 95.378,27.568 C95.1579989,26.7839961 95.048,25.888005 95.048,24.88 C95.048,23.9679954 95.1719988,23.1200039 95.42,22.336 C95.6680012,21.5519961 96.0239977,20.8720029 96.488,20.296 C96.9520023,19.7199971 97.5079968,19.2700016 98.156,18.946 C98.8040032,18.6219984 99.531996,18.46 100.34,18.46 C101.028003,18.46 101.615998,18.5679989 102.104,18.784 C102.592002,19.0000011 103.027998,19.2919982 103.412,19.66 L103.412,13.168 L106.376,13.168 Z M112.304,13.168 L112.304,31 L109.34,31 L109.34,13.168 L112.304,13.168 Z M123.2,23.428 C123.2,23.0439981 123.146001,22.6820017 123.038,22.342 C122.929999,22.0019983 122.768001,21.7040013 122.552,21.448 C122.335999,21.1919987 122.062002,20.9900007 121.73,20.842 C121.397998,20.6939993 121.012002,20.62 120.572,20.62 C119.715996,20.62 119.042002,20.8639976 118.55,21.352 C118.057998,21.8400024 117.744001,22.5319955 117.608,23.428 L123.2,23.428 Z M117.548,25.216 C117.596,25.8480032 117.707999,26.3939977 117.884,26.854 C118.060001,27.3140023 118.291999,27.6939985 118.58,27.994 C118.868001,28.2940015 119.209998,28.5179993 119.606,28.666 C120.002002,28.8140007 120.439998,28.888 120.92,28.888 C121.400002,28.888 121.813998,28.8320006 122.162,28.72 C122.510002,28.6079994 122.813999,28.4840007 123.074,28.348 C123.334001,28.2119993 123.561999,28.0880006 123.758,27.976 C123.954001,27.8639994 124.143999,27.808 124.328,27.808 C124.576001,27.808 124.759999,27.8999991 124.88,28.084 L125.732,29.164 C125.403998,29.5480019 125.036002,29.8699987 124.628,30.13 C124.219998,30.3900013 123.794002,30.5979992 123.35,30.754 C122.905998,30.9100008 122.454002,31.0199997 121.994,31.084 C121.533998,31.1480003 121.088002,31.18 120.656,31.18 C119.799996,31.18 119.004004,31.0380014 118.268,30.754 C117.531996,30.4699986 116.892003,30.0500028 116.348,29.494 C115.803997,28.9379972 115.376002,28.2500041 115.064,27.43 C114.751998,26.6099959 114.596,25.6600054 114.596,24.58 C114.596,23.7399958 114.731999,22.9500037 115.004,22.21 C115.276001,21.4699963 115.665997,20.8260027 116.174,20.278 C116.682003,19.7299973 117.301996,19.2960016 118.034,18.976 C118.766004,18.6559984 119.591995,18.496 120.512,18.496 C121.288004,18.496 122.003997,18.6199988 122.66,18.868 C123.316003,19.1160012 123.879998,19.4779976 124.352,19.954 C124.824002,20.4300024 125.193999,21.0139965 125.462,21.706 C125.730001,22.3980035 125.864,23.1879956 125.864,24.076 C125.864,24.5240022 125.816,24.8259992 125.72,24.982 C125.624,25.1380008 125.440001,25.216 125.168,25.216 L117.548,25.216 Z M149.576,22.504 C149.576,23.8160066 149.380002,24.9959948 148.988,26.044 C148.595998,27.0920052 148.044004,27.9839963 147.332,28.72 C146.619996,29.4560037 145.766005,30.019998 144.77,30.412 C143.773995,30.804002 142.676006,31 141.476,31 L135.272,31 L135.272,14.02 L141.476,14.02 C142.676006,14.02 143.773995,14.215998 144.77,14.608 C145.766005,15.000002 146.619996,15.5639963 147.332,16.3 C148.044004,17.0360037 148.595998,17.9279948 148.988,18.976 C149.380002,20.0240052 149.576,21.1999935 149.576,22.504 Z M148.304,22.504 C148.304,21.3199941 148.140002,20.2640046 147.812,19.336 C147.483998,18.4079954 147.020003,17.6240032 146.42,16.984 C145.819997,16.3439968 145.100004,15.8560017 144.26,15.52 C143.419996,15.1839983 142.492005,15.016 141.476,15.016 L136.508,15.016 L136.508,30.004 L141.476,30.004 C142.492005,30.004 143.419996,29.8360017 144.26,29.5 C145.100004,29.1639983 145.819997,28.6760032 146.42,28.036 C147.020003,27.3959968 147.483998,26.6120046 147.812,25.684 C148.140002,24.7559954 148.304,23.696006 148.304,22.504 Z M157.52,18.868 C158.376004,18.868 159.141997,19.0139985 159.818,19.306 C160.494003,19.5980015 161.063998,20.0119973 161.528,20.548 C161.992002,21.0840027 162.345999,21.7299962 162.59,22.486 C162.834001,23.2420038 162.956,24.0879953 162.956,25.024 C162.956,25.9600047 162.834001,26.8039962 162.59,27.556 C162.345999,28.3080038 161.992002,28.9519973 161.528,29.488 C161.063998,30.0240027 160.494003,30.4359986 159.818,30.724 C159.141997,31.0120014 158.376004,31.156 157.52,31.156 C156.663996,31.156 155.898003,31.0120014 155.222,30.724 C154.545997,30.4359986 153.974002,30.0240027 153.506,29.488 C153.037998,28.9519973 152.682001,28.3080038 152.438,27.556 C152.193999,26.8039962 152.072,25.9600047 152.072,25.024 C152.072,24.0879953 152.193999,23.2420038 152.438,22.486 C152.682001,21.7299962 153.037998,21.0840027 153.506,20.548 C153.974002,20.0119973 154.545997,19.5980015 155.222,19.306 C155.898003,19.0139985 156.663996,18.868 157.52,18.868 Z M157.52,30.256 C158.232004,30.256 158.853997,30.1340012 159.386,29.89 C159.918003,29.6459988 160.361998,29.2960023 160.718,28.84 C161.074002,28.3839977 161.339999,27.8340032 161.516,27.19 C161.692001,26.5459968 161.78,25.824004 161.78,25.024 C161.78,24.231996 161.692001,23.5120032 161.516,22.864 C161.339999,22.2159968 161.074002,21.6620023 160.718,21.202 C160.361998,20.7419977 159.918003,20.3880012 159.386,20.14 C158.853997,19.8919988 158.232004,19.768 157.52,19.768 C156.807996,19.768 156.186003,19.8919988 155.654,20.14 C155.121997,20.3880012 154.678002,20.7419977 154.322,21.202 C153.965998,21.6620023 153.698001,22.2159968 153.518,22.864 C153.337999,23.5120032 153.248,24.231996 153.248,25.024 C153.248,25.824004 153.337999,26.5459968 153.518,27.19 C153.698001,27.8340032 153.965998,28.3839977 154.322,28.84 C154.678002,29.2960023 155.121997,29.6459988 155.654,29.89 C156.186003,30.1340012 156.807996,30.256 157.52,30.256 Z M174.212,20.656 C174.172,20.6960002 174.134,20.7299999 174.098,20.758 C174.062,20.7860001 174.012,20.8 173.948,20.8 C173.868,20.8 173.760001,20.7460005 173.624,20.638 C173.487999,20.5299995 173.304001,20.4120006 173.072,20.284 C172.839999,20.1559994 172.550002,20.0380005 172.202,19.93 C171.853998,19.8219995 171.432002,19.768 170.936,19.768 C170.247997,19.768 169.638003,19.8899988 169.106,20.134 C168.573997,20.3780012 168.124002,20.7279977 167.756,21.184 C167.387998,21.6400023 167.110001,22.1919968 166.922,22.84 C166.733999,23.4880032 166.64,24.215996 166.64,25.024 C166.64,25.8640042 166.737999,26.6079968 166.934,27.256 C167.130001,27.9040032 167.407998,28.4499978 167.768,28.894 C168.128002,29.3380022 168.563997,29.6759988 169.076,29.908 C169.588003,30.1400012 170.155997,30.256 170.78,30.256 C171.356003,30.256 171.837998,30.1880007 172.226,30.052 C172.614002,29.9159993 172.933999,29.7680008 173.186,29.608 C173.438001,29.4479992 173.635999,29.3000007 173.78,29.164 C173.924001,29.0279993 174.044,28.96 174.14,28.96 C174.236,28.96 174.316,28.9999996 174.38,29.08 L174.68,29.464 C174.495999,29.7040012 174.264001,29.927999 173.984,30.136 C173.703999,30.344001 173.388002,30.5239992 173.036,30.676 C172.683998,30.8280008 172.302002,30.9459996 171.89,31.03 C171.477998,31.1140004 171.048002,31.156 170.6,31.156 C169.839996,31.156 169.146003,31.0180014 168.518,30.742 C167.889997,30.4659986 167.350002,30.0660026 166.898,29.542 C166.445998,29.0179974 166.094001,28.3760038 165.842,27.616 C165.589999,26.8559962 165.464,25.9920048 165.464,25.024 C165.464,24.1119954 165.583999,23.2800038 165.824,22.528 C166.064001,21.7759962 166.415998,21.1280027 166.88,20.584 C167.344002,20.0399973 167.909997,19.6180015 168.578,19.318 C169.246003,19.0179985 170.011996,18.868 170.876,18.868 C171.652004,18.868 172.339997,18.9919988 172.94,19.24 C173.540003,19.4880012 174.063998,19.8239979 174.512,20.248 L174.212,20.656 Z M184.064,20.536 C184,20.6480006 183.908001,20.704 183.788,20.704 C183.7,20.704 183.588001,20.6540005 183.452,20.554 C183.315999,20.4539995 183.134001,20.3420006 182.906,20.218 C182.677999,20.0939994 182.396002,19.9820005 182.06,19.882 C181.723998,19.7819995 181.316002,19.732 180.836,19.732 C180.403998,19.732 180.010002,19.7939994 179.654,19.918 C179.297998,20.0420006 178.994001,20.207999 178.742,20.416 C178.489999,20.624001 178.296001,20.8659986 178.16,21.142 C178.023999,21.4180014 177.956,21.7079985 177.956,22.012 C177.956,22.3880019 178.051999,22.6999988 178.244,22.948 C178.436001,23.1960012 178.685998,23.4079991 178.994,23.584 C179.302002,23.7600009 179.655998,23.9119994 180.056,24.04 C180.456002,24.1680006 180.861998,24.2959994 181.274,24.424 C181.686002,24.5520006 182.091998,24.6939992 182.492,24.85 C182.892002,25.0060008 183.245998,25.1999988 183.554,25.432 C183.862002,25.6640012 184.111999,25.9479983 184.304,26.284 C184.496001,26.6200017 184.592,27.0279976 184.592,27.508 C184.592,28.0280026 184.500001,28.5119978 184.316,28.96 C184.131999,29.4080022 183.862002,29.7959984 183.506,30.124 C183.149998,30.4520016 182.712003,30.711999 182.192,30.904 C181.671997,31.096001 181.076003,31.192 180.404,31.192 C179.563996,31.192 178.840003,31.0580013 178.232,30.79 C177.623997,30.5219987 177.080002,30.1720022 176.6,29.74 L176.864,29.332 C176.904,29.2679997 176.95,29.2200002 177.002,29.188 C177.054,29.1559998 177.124,29.14 177.212,29.14 C177.316001,29.14 177.441999,29.2039994 177.59,29.332 C177.738001,29.4600006 177.935999,29.5979993 178.184,29.746 C178.432001,29.8940007 178.737998,30.0319994 179.102,30.16 C179.466002,30.2880006 179.915997,30.352 180.452,30.352 C180.956003,30.352 181.399998,30.2820007 181.784,30.142 C182.168002,30.0019993 182.487999,29.8120012 182.744,29.572 C183.000001,29.3319988 183.193999,29.0500016 183.326,28.726 C183.458001,28.4019984 183.524,28.0600018 183.524,27.7 C183.524,27.299998 183.428001,26.9680013 183.236,26.704 C183.043999,26.4399987 182.792002,26.2160009 182.48,26.032 C182.167998,25.8479991 181.814002,25.6920006 181.418,25.564 C181.021998,25.4359994 180.616002,25.3080006 180.2,25.18 C179.783998,25.0519994 179.378002,24.9120008 178.982,24.76 C178.585998,24.6079992 178.232002,24.4160012 177.92,24.184 C177.607998,23.9519988 177.356001,23.6700017 177.164,23.338 C176.971999,23.0059983 176.876,22.5920025 176.876,22.096 C176.876,21.6719979 176.967999,21.264002 177.152,20.872 C177.336001,20.479998 177.597998,20.1360015 177.938,19.84 C178.278002,19.5439985 178.691998,19.3080009 179.18,19.132 C179.668002,18.9559991 180.215997,18.868 180.824,18.868 C181.552004,18.868 182.197997,18.971999 182.762,19.18 C183.326003,19.388001 183.839998,19.7079978 184.304,20.14 L184.064,20.536 Z"/></g></g></svg></a><div class="site-header-version">4.8.1</div><button class="site-header__navigation-button hamburger" aria-label="Navigation Menu" type="button"><span class="hamburger__bar"></span><span class="hamburger__bar"></span><span class="hamburger__bar"></span></button></div><div class="site-header__navigation-collapsible site-header__navigation-collapsible--collapse"><ul class="site-header__navigation-items"><li tabindex="0" class="site-header__navigation-item site-header__navigation-submenu-section"><span class="site-header__navigation-link">
                                Docs
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 11" height="11" width="19" class="site-header__down-arrow site-header__icon-light"><title>Open Docs Menu</title><path stroke-linejoin="round" stroke-linecap="round" fill="none" stroke-width="1.5" stroke="#02303A" d="M17.9991 10.422825L9.3741 0.565575 0.7491 10.422825" transform="rotate(-180 9.374 5.494)"/></svg></span><div class="site-header__navigation-submenu"><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/userguide/userguide.html" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">User Manual</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="https://guides.gradle.org" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Guides and Tutorials</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/dsl/" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">DSL Reference</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/javadoc/" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Javadoc</span></a></div><div itemprop="name" class="site-header__navigation-submenu-item"><a itemprop="url" href="/release-notes.html" class="site-header__navigation-submenu-item-link" target="_top"><span class="site-header__navigation-submenu-item-link-text">Release Notes</span></a></div></div></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://discuss.gradle.org/" class="site-header__navigation-link" target="_top">Forums</a></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://gradle.org/training/" class="site-header__navigation-link" target="_top">Training</a></li><li itemprop="name" class="site-header__navigation-item"><a itemprop="url" href="https://gradle.com/enterprise" class="site-header__navigation-link" target="_top">Try Gradle Enterprise</a></li></ul></div></nav></header><main class="main-content"><nav class="docs-navigation"><ul><li><a href="/userguide/userguide.html">User Manual Home</a></li><li><a href="/release-notes.html">Release Notes</a></li></ul><h3 id="getting-started">Getting Started</h3><ul><li><a href="/userguide/installation.html">Installing Gradle</a></li><li><a href="https://guides.gradle.org/creating-new-gradle-builds/">Creating New Gradle Builds</a></li><li><a href="https://guides.gradle.org/creating-build-scans/">Creating Build Scans</a></li><li><a href="https://guides.gradle.org/migrating-from-maven/">Migrating From Maven</a></li></ul><h3 id="using-gradle-builds">Using Gradle Builds</h3><ul><li><a href="/userguide/command_line_interface.html">Command-Line Interface</a></li><li><a aria-controls="customizing-execution" aria-expanded="false" href="#customizing-execution" data-toggle="collapse" class="nav-dropdown">Customizing Execution</a><ul id="customizing-execution"><li><a href="/userguide/build_environment.html">Configuring Build Environment</a></li><li><a href="/userguide/gradle_daemon.html">Configuring Gradle Daemon</a></li><li><a href="/userguide/init_scripts.html">Initialization Scripts</a></li></ul></li><li><a href="/userguide/intro_multi_project_builds.html">Executing Multi-Project Builds</a></li><li><a href="/userguide/gradle_wrapper.html">Gradle Wrapper</a></li><li><a href="/userguide/troubleshooting.html">Troubleshooting</a></li><li><a href="https://docs.gradle.com/build-scan-plugin">Using Build Scans</a></li></ul><h3 id="tutorials">Project Tutorials</h3><ul><li><a aria-controls="building-android-projects" aria-expanded="false" href="#building-android-projects" data-toggle="collapse" class="nav-dropdown">Android</a><ul id="building-android-projects"><li><a href="https://guides.gradle.org/building-android-apps/">Building Android Apps</a></li></ul></li><li><a aria-controls="building-cpp-projects" aria-expanded="false" href="#building-cpp-projects" data-toggle="collapse" class="nav-dropdown">C++</a><ul id="building-cpp-projects"><li><a href="https://guides.gradle.org/building-cpp-executables/">Building C++ Executables</a></li><li><a href="https://guides.gradle.org/building-cpp-libraries/">Building C++ Libraries</a></li></ul></li><li><a aria-controls="building-groovy-projects" aria-expanded="false" href="#building-groovy-projects" data-toggle="collapse" class="nav-dropdown">Groovy</a><ul id="building-groovy-projects"><li><a href="https://guides.gradle.org/building-groovy-libraries/">Building Groovy Libraries</a></li></ul></li><li><a aria-controls="building-java-projects" aria-expanded="false" href="#building-java-projects" data-toggle="collapse" class="nav-dropdown">Java</a><ul id="building-java-projects"><li><a href="https://guides.gradle.org/building-java-applications/">Building Java Applications</a></li><li><a href="https://guides.gradle.org/building-java-libraries/">Building Java Libraries</a></li><li><a href="https://guides.gradle.org/building-java-9-modules/">Building Java 9 Modules</a></li><li><a href="https://guides.gradle.org/building-java-web-applications/">Building Java Web Applications</a></li></ul></li><li><a aria-controls="building-javascript-projects" aria-expanded="false" href="#building-javascript-projects" data-toggle="collapse" class="nav-dropdown">JavaScript</a><ul id="building-javascript-projects"><li><a href="https://guides.gradle.org/running-webpack-with-gradle/">Running Webpack with Gradle</a></li></ul></li><li><a aria-controls="building-kotlin-projects" aria-expanded="false" href="#building-kotlin-projects" data-toggle="collapse" class="nav-dropdown">Kotlin</a><ul id="building-kotlin-projects"><li><a href="https://guides.gradle.org/building-kotlin-jvm-libraries/">Building Kotlin JVM Libraries</a></li></ul></li><li><a aria-controls="building-scala-projects" aria-expanded="false" href="#building-scala-projects" data-toggle="collapse" class="nav-dropdown">Scala</a><ul id="building-scala-projects"><li><a href="https://guides.gradle.org/building-scala-libraries/">Building Scala Libraries</a></li></ul></li></ul><h3 id="authoring-gradle-builds">Authoring Gradle Builds</h3><ul><li><a href="/dsl/">Groovy DSL Reference</a></li><li><a href="/javadoc/">Gradle API Javadoc</a></li><li><a href="/userguide/feature_lifecycle.html">Gradle Feature Lifecycle</a></li><li><p></p></li><li><a aria-controls="best-practices" aria-expanded="false" href="#best-practices" data-toggle="collapse" class="nav-dropdown">Best Practices</a><ul id="best-practices"><li><a href="/userguide/authoring_maintainable_build_scripts.html">Authoring Maintainable Build Scripts</a></li><li><a href="/userguide/organizing_gradle_projects.html">Organizing Gradle Projects</a></li><li><a href="https://guides.gradle.org/performance/">Optimizing Build Performance</a></li><li><a href="https://guides.gradle.org/using-build-cache/">Using the Build Cache</a></li></ul></li><li><a aria-controls="authoring-build-scripts" aria-expanded="false" href="#authoring-build-scripts" data-toggle="collapse" class="nav-dropdown">Build Configuration Scripts</a><ul id="authoring-build-scripts"><li><a href="/userguide/build_cache.html">Build Cache Basics</a></li><li><a href="/userguide/build_init_plugin.html">Build Initialization</a></li><li><a href="/userguide/build_lifecycle.html">Build Lifecycle</a></li><li><a href="/userguide/tutorial_using_tasks.html">Build Script Basics</a></li><li><a href="/userguide/composite_builds.html">Composite Builds</a></li><li><a href="/userguide/multi_project_builds.html">Configuring Multi-Project Builds</a></li><li><a href="/userguide/more_about_tasks.html">Declaring Tasks</a></li><li><a href="/userguide/logging.html">Logging</a></li><li><a href="/userguide/standard_plugins.html">Standard Gradle Plugins</a></li><li><a href="/userguide/test_kit.html">Testing with TestKit</a></li><li><a href="/userguide/plugins.html">Using Gradle Plugins</a></li><li><a href="/userguide/working_with_files.html">Working with Files</a></li><li><a href="/userguide/writing_build_scripts.html">Writing Build Scripts</a></li><li><a href="/userguide/custom_tasks.html">Writing Custom Task Classes</a></li></ul></li><li><a aria-controls="dependency-management" aria-expanded="false" href="#dependency-management" data-toggle="collapse" class="nav-dropdown">Dependency Management</a><ul id="dependency-management"><li><a href="/userguide/introduction_dependency_management.html">Introduction to Dependency Management</a></li><li><a href="/userguide/dependency_management_terminology.html">Dependency Management Terminology</a></li><li><a href="/userguide/dependency_types.html">Dependency Types</a></li><li><a href="/userguide/repository_types.html">Repository Types</a></li><li><p></p></li><li><a href="/userguide/declaring_dependencies.html">Declaring Dependencies</a></li><li><a href="/userguide/declaring_repositories.html">Declaring Repositories</a></li><li><a href="/userguide/inspecting_dependencies.html">Inspecting Dependencies</a></li><li><a href="/userguide/managing_dependency_configurations.html">Managing Dependency Configurations</a></li><li><a href="/userguide/managing_transitive_dependencies.html">Managing Transitive Dependencies</a></li><li><a href="/userguide/dependency_locking.html">Dependency Locking</a></li><li><a href="/userguide/troubleshooting_dependency_resolution.html">Troubleshooting Dependency Resolution</a></li><li><p></p></li><li><a href="/userguide/customizing_dependency_resolution_behavior.html">Customizing Dependency Resolution Behavior</a></li><li><a href="/userguide/dependency_cache.html">Dependency Cache Internals</a></li><li><a href="/userguide/working_with_dependencies.html">Working with Dependencies</a></li></ul></li><li><a aria-controls="publishing-artifacts" aria-expanded="false" href="#publishing-artifacts" data-toggle="collapse" class="nav-dropdown">Publishing Artifacts</a><ul id="publishing-artifacts"><li><a href="/userguide/publishing_maven.html">Maven Publish Plugin</a></li><li><a href="/userguide/publishing_ivy.html">Ivy Publish Plugin</a></li><li><a href="/userguide/artifact_management.html">Publishing Artifacts Overview</a></li><li><a href="/userguide/maven_plugin.html">Old Maven Plugin</a></li><li><a href="/userguide/signing_plugin.html">Signing Plugin</a></li><li><a href="/userguide/distribution_plugin.html">Distribution Plugin</a></li></ul></li><li><a aria-controls="sample-gradle-builds" aria-expanded="false" href="#sample-gradle-builds" data-toggle="collapse" class="nav-dropdown">Sample Gradle Builds</a><ul id="sample-gradle-builds"><li><a href="https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples">Groovy DSL Samples</a></li><li><a href="https://github.com/gradle/kotlin-dsl/tree/master/samples">Kotlin DSL Samples</a></li></ul></li><li><p></p></li><li><a href="/userguide/base_plugin.html">Base Plugin</a></li><li><a aria-controls="cpp-projects" aria-expanded="false" href="#cpp-projects" data-toggle="collapse" class="nav-dropdown">C++ Projects</a><ul id="cpp-projects"><li><a href="/userguide/native_software.html">Building Native Software</a></li><li><a href="/userguide/software_model_concepts.html">Software Model Concepts</a></li><li><a href="/userguide/software_model.html">Rule-based Model Configuration</a></li><li><a href="/userguide/rule_source.html">Implementing Model Rules in a Plugin</a></li><li><a href="/userguide/software_model_extend.html">Extending the Software Model</a></li></ul></li><li><a aria-controls="groovy-projects" aria-expanded="false" href="#groovy-projects" data-toggle="collapse" class="nav-dropdown">Groovy Projects</a><ul id="groovy-projects"><li><a href="/userguide/tutorial_groovy_projects.html">Groovy Quickstart</a></li><li><a href="/userguide/groovy_plugin.html">Groovy Plugin</a></li><li><a href="/userguide/codenarc_plugin.html">CodeNarc Plugin</a></li></ul></li><li><a aria-controls="java-projects" aria-expanded="false" href="#java-projects" data-toggle="collapse" class="nav-dropdown">Java Projects</a><ul id="java-projects"><li><a href="/userguide/tutorial_java_projects.html">Java Quickstart</a></li><li><a href="/userguide/building_java_projects.html">Building Java &amp; JVM Projects</a></li><li><a href="/userguide/java_testing.html">Testing Java &amp; JVM Projects</a></li><li><a href="/userguide/java_plugin.html">Java Plugin</a></li><li><a href="/userguide/java_library_plugin.html">Java Library Plugin</a></li><li><a href="/userguide/java_library_distribution_plugin.html">Java Library Distribution Plugin</a></li><li><a href="/userguide/dependency_management_for_java_projects.html">Java Dependency Management</a></li><li><a href="/userguide/ant.html">Using Ant from Gradle</a></li><li><p></p></li><li><a href="/userguide/antlr_plugin.html">ANTLR Plugin</a></li><li><a href="/userguide/application_plugin.html">Application Plugin</a></li><li><a aria-controls="jvm-plugins-reference" aria-expanded="false" href="#jvm-plugins-reference" data-toggle="collapse" class="nav-dropdown">Code Quality Plugins</a><ul id="jvm-plugins-reference"><li><a href="/userguide/checkstyle_plugin.html">Checkstyle Plugin</a></li><li><a href="/userguide/findbugs_plugin.html">FindBugs Plugin</a></li><li><a href="/userguide/jacoco_plugin.html">JaCoCo Plugin</a></li><li><a href="/userguide/jdepend_plugin.html">JDepend Plugin</a></li><li><a href="/userguide/pmd_plugin.html">PMD Plugin</a></li></ul></li><li><a href="/userguide/osgi_plugin.html">OSGi Plugin</a></li></ul></li><li><a aria-controls="java-web-projects" aria-expanded="false" href="#java-web-projects" data-toggle="collapse" class="nav-dropdown">Java Web Projects</a><ul id="java-web-projects"><li><a href="/userguide/web_project_tutorial.html">Web Application Quickstart</a></li><li><a href="/userguide/ear_plugin.html">EAR Plugin</a></li><li><a href="/userguide/play_plugin.html">Play Plugin</a></li><li><a href="/userguide/war_plugin.html">WAR Plugin</a></li></ul></li><li><a aria-controls="scala-projects" aria-expanded="false" href="#scala-projects" data-toggle="collapse" class="nav-dropdown">Scala Projects</a><ul id="scala-projects"><li><a href="/userguide/scala_plugin.html">Scala Plugin</a></li></ul></li></ul><h3 id="integrating-gradle">Integrating Gradle</h3><ul><li><a aria-controls="ci-integration" aria-expanded="false" href="#ci-integration" data-toggle="collapse" class="nav-dropdown">Continuous Integration</a><ul id="ci-integration"><li><a href="https://guides.gradle.org/executing-gradle-builds-on-jenkins">Using Gradle with Jenkins</a></li><li><a href="https://guides.gradle.org/executing-gradle-builds-on-teamcity">Using Gradle with TeamCity</a></li><li><a href="https://guides.gradle.org/executing-gradle-builds-on-travisci">Using Gradle with Travis CI</a></li></ul></li><li><a aria-controls="ide-integration" aria-expanded="false" href="#ide-integration" data-toggle="collapse" class="nav-dropdown">IDE Integration</a><ul id="ide-integration"><li><a href="/userguide/eclipse_plugin.html">Eclipse Plugin</a></li><li><a href="/userguide/idea_plugin.html">IDEA Plugin</a></li></ul></li><li><a href="/userguide/embedding.html">Tooling API</a></li></ul><h3 id="developing-gradle-plugins">Extending Gradle</h3><ul><li><a aria-controls="plugins-tutorials" aria-expanded="false" href="#plugins-tutorials" data-toggle="collapse" class="nav-dropdown">Plugin Development Guides</a><ul id="plugins-tutorials"><li><a href="https://guides.gradle.org/designing-gradle-plugins/">Designing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/implementing-gradle-plugins/">Implementing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/testing-gradle-plugins/">Testing Gradle Plugins</a></li><li><a href="https://guides.gradle.org/publishing-plugins-to-gradle-plugin-portal/">Publishing Gradle Plugins</a></li></ul></li><li><a href="https://guides.gradle.org/using-the-worker-api/">Developing Parallel Tasks</a></li><li><a href="/userguide/lazy_configuration.html">Lazy Task Configuration</a></li><li><a href="/userguide/java_gradle_plugin.html">Plugin Development Plugin</a></li><li><a href="/userguide/custom_plugins.html">Writing Custom Plugins</a></li></ul></nav><div class="chapter"><div class="titlepage"><div><aside class="chapter-meta js-chapter-meta"><div class="rating js-rating-widget"><i data-label="5" data-action="rating" title="Excellent Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="4" data-action="rating" title="Good Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="3" data-action="rating" title="OK Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="2" data-action="rating" title="Poor Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i><i data-label="1" data-action="rating" title="Unusable Documentation" class="star js-analytics-event js-rating"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 15" height="15px" width="16px"><g fill-rule="evenodd" fill="none" stroke-width="1" transform="translate(-33.000000, -11.000000)" stroke="#999999"><path d="M40.9955595,22.8514234 L36.7915654,24.9948806 L36.7915654,24.9948806 C36.7423632,25.019967 36.6821404,25.0004172 36.657054,24.951215 C36.6471785,24.931846 36.6438844,24.9097862 36.6476706,24.8883772 L37.4490484,20.357021 L37.4490484,20.357021 C37.4549065,20.3238963 37.4437179,20.2900458 37.419273,20.2669371 L34.0268385,17.0599455 L34.0268385,17.0599455 C33.9867045,17.0220055 33.984926,16.9587139 34.0228661,16.91858 C34.0384357,16.9021101 34.0591382,16.8914177 34.0815807,16.888255 L38.7752895,16.2268062 L38.7752895,16.2268062 C38.8076013,16.2222528 38.8356591,16.2022207 38.8504587,16.1731387 L40.9518588,12.0437603 L40.9518588,12.0437603 C40.9769072,11.9945387 41.0371149,11.9749424 41.0863365,11.9999908 C41.1051882,12.0095843 41.1205124,12.0249085 41.1301059,12.0437603 L43.2315061,16.1731387 L43.2315061,16.1731387 C43.2463056,16.2022207 43.2743635,16.2222528 43.3066753,16.2268062 L48.0003841,16.888255 L48.0003841,16.888255 C48.0550722,16.8959618 48.0931581,16.9465428 48.0854513,17.001231 C48.0822887,17.0236735 48.0715962,17.044376 48.0551263,17.0599455 L44.6626917,20.2669371 L44.6626917,20.2669371 C44.6382468,20.2900458 44.6270582,20.3238963 44.6329164,20.357021 L45.4342941,24.8883772 L45.4342941,24.8883772 C45.4439121,24.9427617 45.4076217,24.9946461 45.3532371,25.0042641 C45.3318281,25.0080503 45.3097683,25.0047561 45.2903993,24.9948806 L41.0864052,22.8514234 L41.0864052,22.8514234 C41.0578708,22.8368748 41.024094,22.8368748 40.9955595,22.8514234 Z"/></g></svg></i></div><div class="quick-edit"><a href="https://github.com/gradle/gradle/edit/master/subprojects/docs/src/docs/userguide/" class="edit-link js-edit-link"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" version="1.1" viewBox="0 0 11 12" height="12px" width="11px"><g stroke-linejoin="round" stroke-linecap="round" fill-rule="evenodd" fill="none" stroke-width="1" stroke="#999999"><polyline points="9 5.11724219 9 11.5 0.5 11.5 0.5 2.5 5 2.5"/><polygon points="9.59427002 0.565307617 4.31427002 5.84530762 4.31427002 6.56530762 5.03427002 6.56530762 10.31427 1.28530762" fill="#999999"/></g></svg>
                    Edit this page
                </a></div></aside><div><h1 xmlns:xslthl="http://xslthl.sf.net"><a name="working_with_files"></a>Working With Files</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="working_with_files.html#sec:copying_single_file_example">Copying a single file</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:copying_multiple_files_example">Copying multiple files</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:copying_directories_example">Copying directory hierarchies</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:creating_archives_example">Creating archives (zip, tar, etc.)</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:unpacking_archives_example">Unpacking archives</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:creating_uber_jar_example">Creating "uber" or "fat" JARs</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:creating_directories_example">Creating directories</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:moving_files_example">Moving files and directories</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:renaming_files_example">Renaming files on copy</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:deleting_files_example">Deleting files and directories</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:locating_files">File paths in depth</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:copying_files">File copying in depth</a></span></dt><dt><span class="section"><a href="working_with_files.html#sec:archives">Archive creation in depth</a></span></dt></dl></div><p>Almost every Gradle build interacts with files in some way: think source files, file dependencies, reports and so on. That&rsquo;s why Gradle comes with a comprehensive API that makes it simple to perform the file operations you need.</p><p>The API has two parts to it:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Specifying which files and directories to process</p></li><li class="listitem"><p>Specifying what to do with them</p></li></ul></div><p>The <span class="emphasis"><em><a class="link" href="working_with_files.html#sec:locating_files">File paths in depth</a></em></span> section covers the first of these in detail, while subsequent sections, like <span class="emphasis"><em><a class="link" href="">File copying in depth</a></em></span>, cover the second. To begin with, we&rsquo;ll show you examples of the most common scenarios that users encounter.</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:copying_single_file_example" class="section-anchor" href="#sec:copying_single_file_example"></a>Copying a single file</h2></div></div></div><p>You copy a file by creating an instance of Gradle&rsquo;s builtin <a class="ulink" href="../dsl/org.gradle.api.tasks.Copy.html" target="_top"><code class="classname">Copy</code></a> task and configuring it with the location of the file and where you want to put it. This example mimics copying a generated report into a directory that will be packed into an archive, such as a ZIP or TAR:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copySingleFileExample"></a><p class="title"><b>Example: How to copy a single file</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyReport(type: Copy) {
    from file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/reports/my-report.pdf"</span>)
    into file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>)
}
</pre></div></div><br class="example-break"><p>The <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:file(java.lang.Object)" target="_top"><code class="classname">Project.file(java.lang.Object)</code></a> method is used to create a file or directory path relative to the current project and is a common way to make build scripts work regardless of the project path. The file and directory paths are then used to specify what file to copy using <a class="ulink" href="../dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:from(java.lang.Object[])" target="_top"><code class="classname">Copy.from(java.lang.Object[])</code></a> and which directory to copy it to using <a class="ulink" href="../dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:into(java.lang.Object)" target="_top"><code class="classname">Copy.into(java.lang.Object)</code></a>.</p><p>You can even use the path directly without the <code class="literal">file()</code> method, as explained early in the section <span class="emphasis"><em><a class="link" href="working_with_files.html#sec:copying_files">File copying in depth</a></em></span>:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copySingleFileExampleNoFileMethod"></a><p class="title"><b>Example: Using implicit string paths</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyReport2(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/reports/my-report.pdf"</span>
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
}
</pre></div></div><br class="example-break"><p>Although hard-coded paths make for simple examples, they also make the build brittle. It&rsquo;s better to use a reliable, single source of truth, such as a task or shared project property. In the following modified example, we use a report task defined elsewhere that has the report&rsquo;s location stored in its <code class="literal">outputFile</code> property:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copySingleFileExampleWithTaskProps"></a><p class="title"><b>Example: Prefer task/project properties over hard-coded paths</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyReport3(type: Copy) {
    from myReportTask.outputFile
    into archiveReportsTask.dirToArchive
}
</pre></div></div><br class="example-break"><p>We have also assumed that the reports will be archived by <code class="literal">archiveReportsTask</code>, which provides us with the directory that will be archived and hence where we want to put the copies of the reports.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:copying_multiple_files_example" class="section-anchor" href="#sec:copying_multiple_files_example"></a>Copying multiple files</h2></div></div></div><p>You can extend the previous examples to multiple files very easily by providing multiple arguments to <code class="literal">from()</code>:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copyMultipleFilesExample"></a><p class="title"><b>Example: Using multiple arguments with from()</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyReportsForArchiving(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/reports/my-report.pdf"</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/docs/manual.pdf"</span>
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
}
</pre></div></div><br class="example-break"><p>Two files are now copied into the archive directory. You can also use multiple <code class="literal">from()</code> statements to do the same thing, as shown in the first example of the section <span class="emphasis"><em><a class="link" href="working_with_files.html#sec:copying_files">File copying in depth</a></em></span>.</p><p>Now consider another example: what if you want to copy all the PDFs in a directory without having to specify each one? To do this, attach inclusion and/or exclusion patterns to the copy specification. Here we use a string pattern to include PDFs only:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copyMultipleFilesFlatFilterExample"></a><p class="title"><b>Example: Using a flat filter</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyPdfReportsForArchiving(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/reports"</span>
    include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"*.pdf"</span>
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
}
</pre></div></div><br class="example-break"><p>One thing to note, as demonstrated in the following diagram, is that only the PDFs that reside directly in the <code class="literal">reports</code> directory are copied:</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N12872"></a><p class="title"><b>Figure: The effect of a flat filter on copying</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="602"><tr><td><img src="img/copy-with-flat-filter-example.png" width="602" alt="The effect of a flat filter on copying"></td></tr></table></div></div><br class="figure-break"><p>You can include files in subdirectories by using an Ant-style glob pattern (<code class="literal">**/*</code>), as done in this updated example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copyMultipleFilesDeepFilterExample"></a><p class="title"><b>Example: Using a deep filter</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyAllPdfReportsForArchiving(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/reports"</span>
    include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/*.pdf"</span>
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
}
</pre></div></div><br class="example-break"><p>This task has the following effect:</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N1288A"></a><p class="title"><b>Figure: The effect of a deep filter on copying</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="602"><tr><td><img src="img/copy-with-deep-filter-example.png" width="602" alt="The effect of a deep filter on copying"></td></tr></table></div></div><br class="figure-break"><p>One thing to bear in mind is that a deep filter like this has the side effect of copying the directory structure below <code class="literal">reports</code> as well as the files. If you just want to copy the files without the directory structure, you need to use an explicit <code class="literal">fileTree(<span class="emphasis"><em>dir</em></span>) { <span class="emphasis"><em>includes</em></span> }.files</code> expression. We talk more about the difference between file trees and file collections in the <span class="emphasis"><em><a class="link" href="working_with_files.html#sec:file_trees">File trees</a></em></span> section.</p><p>This is just one of the variations in behavior you&rsquo;re likely to come across when dealing with file operations in Gradle builds. Fortunately, Gradle provides elegant solutions to almost all those use cases. Read the <span class="emphasis"><em>in-depth</em></span> sections later in the chapter for more detail on how the file operations work in Gradle and what options you have for configuring them.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:copying_directories_example" class="section-anchor" href="#sec:copying_directories_example"></a>Copying directory hierarchies</h2></div></div></div><p>You may have a need to copy not just files, but the directory structure they reside in as well. This is the default behavior when you specify a directory as the <code class="literal">from()</code> argument, as demonstrated by the following example that copies everything in the <code class="literal">reports</code> directory, including all its subdirectories, to the destination:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copyDirExample"></a><p class="title"><b>Example: Copying an entire directory</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyReportsDirForArchiving(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/reports"</span>
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
}
</pre></div></div><br class="example-break"><p>The key aspect that users struggle with is controlling how much of the directory structure goes to the destination. In the above example, do you get a <code class="literal">toArchive/reports</code> directory or does everything in <code class="literal">reports</code> go straight into <code class="literal">toArchive</code>? The answer is the latter. If a directory is part of the <code class="literal">from()</code> path, then it <span class="emphasis"><em>won&rsquo;t</em></span> appear in the destination.</p><p>So how do you ensure that <code class="literal">reports</code> itself is copied across, but not any other directory in <code class="literal">$buildDir</code>? The answer is to add it as an include pattern:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copyDirIncludingItselfExample"></a><p class="title"><b>Example: Copying an entire directory, including itself</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyReportsDirForArchiving2(type: Copy) {
    from(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}"</span>) {
        include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"reports/**"</span>
    }
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
}
</pre></div></div><br class="example-break"><p>You&rsquo;ll get the same behavior as before except with one extra level of directory in the destination, i.e. <code class="literal">toArchive/reports</code>.</p><p>One thing to note is how the <code class="literal">include()</code> directive applies only to the <code class="literal">from()</code>, whereas the directive in the previous section applied to the whole task. These different levels of granularity in the copy specification allow you to easily handle most requirements that you will come across. You can learn more about this in the section on <span class="emphasis"><em><a class="link" href="working_with_files.html#_using_child_specifications">child specifications</a></em></span>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:creating_archives_example" class="section-anchor" href="#sec:creating_archives_example"></a>Creating archives (zip, tar, etc.)</h2></div></div></div><p>From the perspective of Gradle, packing files into an archive is effectively a copy in which the destination is the archive file rather than a directory on the file system. This means that creating archives looks a lot like copying, with all of the same features!</p><p>The simplest case involves archiving the entire contents of a directory, which this example demonstrates by creating a ZIP of the <code class="literal">toArchive</code> directory:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="createArchiveExample"></a><p class="title"><b>Example: Archiving a directory as a ZIP</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task packageDistribution(type: Zip) {
    archiveName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"my-distribution.zip"</span>
    destinationDir = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/dist"</span>)

    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
}
</pre></div></div><br class="example-break"><p>Notice how we specify the destination and name of the archive instead of an <code class="literal">into()</code>: both are required. You often won&rsquo;t see them explicitly set, because most projects apply the <a class="link" href="standard_plugins.html#sec:base_plugins">Base Plugin</a>. It provides some conventional values for those properties. The next example demonstrates this and you can learn more about the conventions in the <a class="link" href="working_with_files.html#sec:archive_naming">archive naming</a> section.</p><p>Each type of archive has its own task type, the most common ones being <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.Zip.html" target="_top"><code class="classname">Zip</code></a>, <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.Tar.html" target="_top"><code class="classname">Tar</code></a> and <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.Jar.html" target="_top"><code class="classname">Jar</code></a>. They all share most of the configuration options of <code class="literal">Copy</code>, including filtering and renaming.</p><p>One of the most common scenarios involves copying files into specified subdirectories of the archive. For example, let&rsquo;s say you want to package all PDFs into a <code class="literal">docs</code> directory in the root of the archive. This <code class="literal">docs</code> directory doesn&rsquo;t exist in the source location, so you have to create it as part of the archive. You do this by adding an <code class="literal">into()</code> declaration for just the PDFs:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="createArchiveWithBasePluginExample"></a><p class="title"><b>Example: Using the Base Plugin for its archive name convention</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">plugins {
    id <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'base'</span>
}

version = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"1.0.0"</span>

task packageDistribution(type: Zip) {
    from(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>) {
        exclude <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/*.pdf"</span>
    }

    from(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>) {
        include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/*.pdf"</span>
        into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"docs"</span>
    }
}
</pre></div></div><br class="example-break"><p>As you can see, you can have multiple <code class="literal">from()</code> declarations in a copy specification, each with its own configuration. See <span class="emphasis"><em><a class="xref" href="working_with_files.html#_using_child_specifications">the section called &ldquo;Using child specifications&rdquo;</a></em></span> for more information on this feature.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:unpacking_archives_example" class="section-anchor" href="#sec:unpacking_archives_example"></a>Unpacking archives</h2></div></div></div><p>Archives are effectively self-contained file systems, so unpacking them is a case of copying the files from that file system onto the local file system &mdash;&nbsp;or even into another archive. Gradle enables this by providing some wrapper functions that make archives available as hierarchical collections of files (<a class="link" href="working_with_files.html#sec:file_trees">file trees</a>).</p><p>The two functions of interest are <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:zipTree(java.lang.Object)" target="_top"><code class="classname">Project.zipTree(java.lang.Object)</code></a> and <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:tarTree(java.lang.Object)" target="_top"><code class="classname">Project.tarTree(java.lang.Object)</code></a>, which produce a <a class="ulink" href="../javadoc/org/gradle/api/file/FileTree.html" target="_top"><code class="classname">FileTree</code></a> from a corresponding archive file. That file tree can then be used in a <code class="literal">from()</code> specification, like so:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="unpackArchiveExample"></a><p class="title"><b>Example: Unpacking a ZIP file</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task unpackFiles(type: Copy) {
    from zipTree(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/resources/thirdPartyResources.zip"</span>)
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/resources"</span>
}
</pre></div></div><br class="example-break"><p>As with a normal copy, you can control which files are unpacked via filters and even rename files as they are unpacked.</p><p>If you&rsquo;re a Java developer and are wondering why there is no <code class="literal">jarTree()</code> method, that&rsquo;s because <code class="literal">zipTree()</code> works perfectly well for JARs, WARs and EARs.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:creating_uber_jar_example" class="section-anchor" href="#sec:creating_uber_jar_example"></a>Creating "uber" or "fat" JARs</h2></div></div></div><p>In the Java space, applications and their dependencies typically used to be packaged as separate JARs within a single distribution archive. That still happens, but there is another approach that is now common: placing the classes and resources of the dependencies directly into the application JAR, creating what is known as an uber or fat JAR.</p><p>Gradle makes this approach easy to accomplish. Consider the aim: to copy the contents of other JAR files into the application JAR. All you need for this is the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:zipTree(java.lang.Object)" target="_top"><code class="classname">Project.zipTree(java.lang.Object)</code></a> method and the <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.Jar.html" target="_top"><code class="classname">Jar</code></a> task, as demonstrated by the <code class="literal">uberJar</code> task in the following example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="createUberJarExample"></a><p class="title"><b>Example: Creating a Java uber or fat JAR</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">plugins {
    id <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'java'</span>
}

version = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'1.0.0'</span>

repositories {
    mavenCentral()
}

dependencies {
    implementation <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'commons-io:commons-io:2.6'</span>
}

task uberJar(type: Jar) {
    appendix = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'uber'</span>

    from sourceSets.main.output
    from configurations.runtimeClasspath.
                                         findAll { it.name.endsWith(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'jar'</span>) }.
                                         collect { zipTree(it) }
}
</pre></div></div><br class="example-break"><p>In this case, we&rsquo;re taking the runtime dependencies of the project &mdash; <code class="literal">configurations.runtimeClasspath.files</code> &mdash; and wrapping each of the JAR files with the <code class="literal">zipTree()</code> method. The result is a collection of ZIP file trees, the contents of which are copied into the uber JAR alongside the application classes.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:creating_directories_example" class="section-anchor" href="#sec:creating_directories_example"></a>Creating directories</h2></div></div></div><p>Many tasks need to create directories to store the files they generate, which is why Gradle automatically manages this aspect of tasks when they explicitly define file and directory outputs. You can learn about this feature in the <a class="link" href="more_about_tasks.html#sec:up_to_date_checks">incremental build</a> section of the user guide. All core Gradle tasks ensure that any output directories they need are created if necessary using this mechanism.</p><p>In cases where you need to create a directory manually, you can use the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:mkdir(java.lang.Object)" target="_top"><code class="classname">Project.mkdir(java.lang.Object)</code></a> method from within your build scripts or custom task implementations. Here&rsquo;s a simple example that creates a single <code class="literal">images</code> directory in the project folder:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="createDirectoryExample"></a><p class="title"><b>Example: Manually creating a directory</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task ensureDirectory {
    doLast {
        mkdir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"images"</span>
    }
}
</pre></div></div><br class="example-break"><p>As described in the <a class="ulink" href="https://ant.apache.org/manual/Tasks/mkdir.html" target="_top">Apache Ant manual</a>, the <code class="literal">mkdir</code> task will automatically create all necessary directories in the given path and will do nothing if the directory already exists.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:moving_files_example" class="section-anchor" href="#sec:moving_files_example"></a>Moving files and directories</h2></div></div></div><p>Gradle has no API for moving files and directories around, but you can use the <a class="link" href="">Apache Ant integration</a> to easily do that, as shown in this example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="moveExample"></a><p class="title"><b>Example: Moving a directory using the Ant task</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task moveReports {
    doLast {
        ant.move file: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/reports"</span>,
                 todir: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
    }
}
</pre></div></div><br class="example-break"><p>This is not a common requirement and should be used sparingly as you lose information and can easily break a build. It&rsquo;s generally preferable to copy directories and files instead.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:renaming_files_example" class="section-anchor" href="#sec:renaming_files_example"></a>Renaming files on copy</h2></div></div></div><p>The files used and generated by your builds sometimes don&rsquo;t have names that suit, in which case you want to rename those files as you copy them. Gradle allows you to do this as part of a copy specification using the <code class="literal">rename()</code> configuration.</p><p>The following example removes the "-staging-" marker from the names of any files that have it:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="renameOnCopyExample"></a><p class="title"><b>Example: Renaming files as they are copied</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyFromStaging(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src/main/webapp"</span>
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/explodedWar"</span>

    rename <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'(.+)-staging(.+)'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'$1$2'</span>
}
</pre></div></div><br class="example-break"><p>You can use regular expressions for this, as in the above example, or closures that use more complex logic to determine the target filename. For example, the following task truncates filenames:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="truncateNamesExample"></a><p class="title"><b>Example: Truncating filenames as they are copied</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyWithTruncate(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/reports"</span>
    rename { String filename -&gt;
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">if</span> (filename.size() &gt; <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">10</span>) {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">return</span> filename[<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">0.</span>.<span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">7</span>] + <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"~"</span> + filename.size()
        }
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">else</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">return</span> filename
    }
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
}
</pre></div></div><br class="example-break"><p>As with filtering, you can also apply renaming to a subset of files by configuring it as part of a child specification on a <code class="literal">from()</code>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:deleting_files_example" class="section-anchor" href="#sec:deleting_files_example"></a>Deleting files and directories</h2></div></div></div><p>You can easily delete files and directories using either the <a class="ulink" href="../dsl/org.gradle.api.tasks.Delete.html" target="_top"><code class="classname">Delete</code></a> task or the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:delete(org.gradle.api.Action)" target="_top"><code class="classname">Project.delete(org.gradle.api.Action)</code></a> method.
In both cases, you specify which files and directories to delete in a way supported by the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:files(java.lang.Object[])" target="_top"><code class="classname">Project.files(java.lang.Object[])</code></a>, <a class="ulink" href="../javadoc/org/gradle/api/file/ProjectLayout.html#files-java.lang.Object[]-" target="_top"><code class="classname">ProjectLayout.files(java.lang.Object[])</code></a>, and <a class="ulink" href="../javadoc/org/gradle/api/file/ProjectLayout.html#configurableFiles-java.lang.Object[]-" target="_top"><code class="classname">ProjectLayout.configurableFiles(java.lang.Object[])</code></a> methods.</p><p>For example, the following task deletes the entire contents of a build&rsquo;s output directory:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="deleteExample"></a><p class="title"><b>Example: Deleting a directory</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task myClean(type: Delete) {
    delete buildDir
}
</pre></div></div><br class="example-break"><p>If you want more control over which files are deleted, you can&rsquo;t use inclusions and exclusions in the same way as for copying files.
Instead, you have to use the builtin filtering mechanisms of <code class="literal">FileCollection</code> and <code class="literal">FileTree</code>.
The following example does just that to clear out temporary files from a source directory:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="deleteWithFilterExample"></a><p class="title"><b>Example: Deleting files matching a specific pattern</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task cleanTempFiles(type: Delete) {
    delete fileTree(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"src"</span>).matching {
        include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/*.tmp"</span>
    }
}
</pre></div></div><br class="example-break"><p>You&rsquo;ll learn more about file collections and file trees in the next section.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:locating_files" class="section-anchor" href="#sec:locating_files"></a>File paths in depth</h2></div></div></div><p>In order to perform some action on a file, you need to know where it is, and that&rsquo;s the information provided by file paths. Gradle builds on the standard Java <code class="literal"><a class="ulink" href="https://docs.oracle.com/javase/7/docs/api/java/io/File.html" target="_top">File</a></code> class, which represents the location of a single file, and provides new APIs for dealing with collections of paths. This section shows you how to use the Gradle APIs to specify file paths for use in tasks and file operations.</p><p>But first, an important note on using hard-coded file paths in your builds.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:hard_coded_file_paths" class="section-anchor" href="#sec:hard_coded_file_paths"></a>On hard-coded file paths</h3></div></div></div><p>Many examples in this chapter use hard-coded paths as string literals. This makes them easy to understand, but it&rsquo;s not good practice for real builds. The problem is that paths often change and the more places you need to change them, the more likely you are to miss one and break the build.</p><p>Where possible, you should use tasks, task properties, and <a class="link" href="writing_build_scripts.html#sec:extra_properties">project properties</a> &mdash; in that order of preference &mdash; to configure file paths. For example, if you were to create a task that packages the compiled classes of a Java application, you should aim for something like this:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="minimizingHardCodedPaths"></a><p class="title"><b>Example: How to minimize the number of hard-coded paths in your build</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">ext {
    archivesDirPath = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/archives"</span>
}

task packageClasses(type: Zip) {
    appendix = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"classes"</span>
    destinationDir = file(archivesDirPath)

    from compileJava
}
</pre></div></div><br class="example-break"><p>See how we&rsquo;re using the <code class="literal">compileJava</code> task as the source of the files to package and we&rsquo;ve created a project property <code class="literal">archivesDirPath</code> to store the location where we put archives, on the basis we&rsquo;re likely to use it elsewhere in the build.</p><p>Using a task directly as an argument like this relies on it having <a class="link" href="more_about_tasks.html#sec:task_inputs_outputs">defined outputs</a>, so it won&rsquo;t always be possible. In addition, this example could be improved further by relying on the Java plugin&rsquo;s convention for <code class="literal">destinationDir</code> rather than overriding it, but it does demonstrate the use of project properties.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:single_file_paths" class="section-anchor" href="#sec:single_file_paths"></a>Single file paths</h3></div></div></div><p>One of the great quandaries when developing a build is how to specify file locations when the build may be executed from an arbitrary directory &mdash; not necessarily in the project &mdash; and may be run on any number of different systems with incompatible directory layouts. The standard Java mechanism for specifying a file path runs into trouble in these situations:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="literal">new File(relative path)</code> generates a path relative to the current working directory, which could be anywhere</p></li><li class="listitem"><p><code class="literal">new File(absolute path)</code> will fail if the file system doesn&rsquo;t have the requisite path.</p></li></ul></div><p>Gradle solves this problem by providing the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:file(java.lang.Object)" target="_top"><code class="classname">Project.file(java.lang.Object)</code></a> method, which generates a path relative to the <span class="emphasis"><em>project</em></span> directory (unless the given path is absolute, in which case it is used as is). Here are some examples of using the <code class="literal">file()</code> method with different types of argument:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="resolveFile"></a><p class="title"><b>Example: Locating files</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Using a relative path</span>
File configFile = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/config.xml'</span>)

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Using an absolute path</span>
configFile = file(configFile.absolutePath)

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Using a File object with a relative path</span>
configFile = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">new</span> File(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/config.xml'</span>))

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Using a java.nio.file.Path object with a relative path</span>
configFile = file(Paths.get(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'config.xml'</span>))

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Using an absolute java.nio.file.Path object</span>
configFile = file(Paths.get(System.getProperty(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'user.home'</span>)).resolve(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'global-config.xml'</span>))
</pre></div></div><br class="example-break"><p>As you can see, you can pass strings, <code class="literal">File</code> instances and <code class="literal"><a class="ulink" href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html" target="_top">Path</a></code> instances to the <code class="literal">file()</code> method, all of which result in an absolute <code class="literal">File</code> object. You can find other options for argument types in the reference guide, linked in the previous paragraph.</p><p>What happens in the case of multi-project builds? The <code class="literal">file()</code> method will always turn relative paths into paths that are relative to the current project directory, which may be a child project. If you want to use a path that&rsquo;s relative to the <span class="emphasis"><em>root project</em></span> directory, then you need to use the special <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:rootDir" target="_top"><code class="classname">Project.getRootDir()</code></a> property to construct an absolute path, like so:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="usingRootDirProperty"></a><p class="title"><b>Example: Creating a path relative to a parent project</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">File configFile = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${rootDir}/shared/config.xml"</span>)
</pre></div></div><br class="example-break"><p>Let&rsquo;s say you&rsquo;re working on a multi-project build in a <code class="literal">dev/projects/AcmeHealth</code> directory. You use the above example in the build of the library you&rsquo;re fixing &mdash; at <code class="literal">AcmeHealth/subprojects/AcmePatientRecordLib/build.gradle</code>. The file path will resolve to the absolute version of <code class="literal">dev/projects/AcmeHealth/shared/config.xml</code>.</p><p>The <code class="literal">file()</code> method can be used to configure any task that has a property of type <code class="literal">File</code>. Many tasks, though, work on multiple files, so we look at how to specify sets of files next.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:file_collections" class="section-anchor" href="#sec:file_collections"></a>File collections</h3></div></div></div><p>A <span class="emphasis"><em>file collection</em></span> is simply a set of file paths that&rsquo;s represented by the <a class="ulink" href="../javadoc/org/gradle/api/file/FileCollection.html" target="_top"><code class="classname">FileCollection</code></a> interface. <span class="emphasis"><em>Any</em></span> file paths. It&rsquo;s important to understand that the file paths don&rsquo;t have to be related in any way, so they don&rsquo;t have to be in the same directory or even have a shared parent directory. You will also find that many parts of the Gradle API use <code class="literal">FileCollection</code>, such as the copying API discussed later in this chapter and <a class="link" href="managing_dependency_configurations.html">dependency configurations</a>.</p><p>The recommended way to specify a collection of files is to use the <a class="ulink" href="../javadoc/org/gradle/api/file/ProjectLayout.html#files-java.lang.Object[]-" target="_top"><code class="classname">ProjectLayout.files(java.lang.Object[])</code></a> method, which returns a <code class="literal">FileCollection</code> instance.
This method is very flexible and allows you to pass multiple strings, <code class="literal">File</code> instances, collections of strings, collections of <code class="literal">File</code>s, and more.
You can even pass in tasks as arguments if they have <a class="link" href="more_about_tasks.html#sec:task_inputs_outputs">defined outputs</a>.
Learn about all the supported argument types in the reference guide.</p><p>As with the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:file(java.lang.Object)" target="_top"><code class="classname">Project.file(java.lang.Object)</code></a> method covered in the <a class="link" href="working_with_files.html#sec:single_file_paths">previous section</a>, all relative paths are evaluated relative to the current project directory. The following example demonstrates some of the variety of argument types you can use &mdash; strings, <code class="literal">File</code> instances, a list and a <code class="literal"><a class="ulink" href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html" target="_top">Path</a></code>:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="fileCollections"></a><p class="title"><b>Example: Creating a file collection</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">FileCollection collection = layout.files(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/file1.txt'</span>,
                                  <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">new</span> File(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/file2.txt'</span>),
                                  [<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/file3.csv'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/file4.csv'</span>],
                                  Paths.get(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'file5.txt'</span>))
</pre></div></div><br class="example-break"><p>File collections have some important attributes in Gradle. They can be:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>created lazily</p></li><li class="listitem"><p>iterated over</p></li><li class="listitem"><p>filtered</p></li><li class="listitem"><p>combined</p></li></ul></div><p><span class="emphasis"><em>Lazy creation</em></span> of a file collection is useful when you need to evaluate the files that make up a collection at the time a build runs. In the following example, we query the file system to find out what files exist in a particular directory and then make those into a file collection:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="fileCollectionsWithClosure"></a><p class="title"><b>Example: Implementing a file collection</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task list {
    doLast {
        File srcDir

        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Create a file collection using a closure</span>
        collection = layout.files { srcDir.listFiles() }

        srcDir = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>)
        println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Contents of $srcDir.name"</span>
        collection.collect { relativePath(it) }.sort().each { println it }

        srcDir = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src2'</span>)
        println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Contents of $srcDir.name"</span>
        collection.collect { relativePath(it) }.sort().each { println it }
    }
}
</pre><p>Output of <strong class="userinput"><code>gradle -q list</code></strong></p><pre class="screen">&gt; gradle -q list
Contents of src
src/dir1
src/file1.txt
Contents of src2
src2/dir1
src2/dir2
</pre></div></div><br class="example-break"><p>The key to lazy creation is passing a closure to the <code class="literal">files()</code> method. Your closure simply needs to return a value of a type accepted by <code class="literal">files()</code>, such as <code class="literal">List&lt;File&gt;</code>, <code class="literal">String</code>, <code class="literal">FileCollection</code>, etc.</p><p><span class="emphasis"><em>Iterating over a file collection</em></span> can be done through the <code class="literal">each()</code> method on the collection or using the collection in a <code class="literal">for</code> loop. In both approaches, the file collection is treated as a set of <code class="literal">File</code> instances, i.e. your iteration variable will be of type <code class="literal">File</code>.</p><p>The following example demonstrates such iteration as well as how you can convert file collections to other types using the <code class="literal">as</code> operator or supported properties:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="fileCollectionsUsage"></a><p class="title"><b>Example: Using a file collection</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Iterate over the files in the collection</span>
collection.each { File file -&gt;
    println file.name
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Convert the collection to various types</span>
Set set = collection.files
Set set2 = collection <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">as</span> Set
List list = collection <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">as</span> List
String path = collection.asPath
File file = collection.singleFile
File file2 = collection <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">as</span> File

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Add and subtract collections</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">def</span> union = collection + layout.files(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/file2.txt'</span>)
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">def</span> difference = collection - layout.files(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/file2.txt'</span>)

</pre></div></div><br class="example-break"><p>You can also see at the end of the example <span class="emphasis"><em>how to combine file collections</em></span> using the <code class="literal">+</code> and <code class="literal">-</code> operators to merge and subtract them. An important feature of the resulting file collections is that they are <span class="emphasis"><em>live</em></span>. In other words, when you combine file collections in this way, the result always reflects what&rsquo;s currently in the source file collections, even if they change during the build.</p><p>For example, imagine <code class="literal">collection</code> in the above example gains an extra file or two after <code class="literal">union</code> is created. As long as you use <code class="literal">union</code> after those files are added to <code class="literal">collection</code>, <code class="literal">union</code> will also contain those additional files. The same goes for the <code class="literal">different</code> file collection.</p><p>Live collections are also important when it comes to <span class="emphasis"><em>filtering</em></span>. If you want to use a subset of a file collection, you can take advantage of the <a class="ulink" href="../javadoc/org/gradle/api/file/FileCollection.html#filter-org.gradle.api.specs.Spec-" target="_top"><code class="classname">FileCollection.filter(org.gradle.api.specs.Spec)</code></a> method to determine which files to "keep". In the following example, we create a new collection that consists of only the files that end with .txt in the source collection:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="fileCollectionsFiltering"></a><p class="title"><b>Example: Filtering a file collection</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">FileCollection textFiles = collection.filter { File f -&gt;
    f.name.endsWith(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">".txt"</span>)
}
</pre><p>Output of <strong class="userinput"><code>gradle -q filterTextFiles</code></strong></p><pre class="screen">&gt; gradle -q filterTextFiles
src/file1.txt
src/file2.txt
src/file5.txt
</pre></div></div><br class="example-break"><p>If <code class="literal">collection</code> changes at any time, either by adding or removing files from itself, then <code class="literal">textFiles</code> will immediately reflect the change because it is also a live collection. Note that the closure you pass to <code class="literal">filter()</code> takes a <code class="literal">File</code> as an argument and should return a boolean.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:file_trees" class="section-anchor" href="#sec:file_trees"></a>File trees</h3></div></div></div><p>A <span class="emphasis"><em>file tree</em></span> is a file collection that retains the directory structure of the files it contains and has the type <a class="ulink" href="../javadoc/org/gradle/api/file/FileTree.html" target="_top"><code class="classname">FileTree</code></a>. This means that all the paths in a file tree must have a shared parent directory. The following diagram highlights the distinction between file trees and file collections in the common case of copying files:</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N12BCD"></a><p class="title"><b>Figure: The differences in how file trees and file collections behave when copying files</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="567"><tr><td><img src="img/file-collection-vs-file-tree.png" width="567" alt="The differences in how file trees and file collections behave when copying files"></td></tr></table></div></div><br class="figure-break"><div class="note"><p>Although <code class="literal">FileTree</code> extends <code class="literal">FileCollection</code> (an is-a relationship), their behaviors do differ. In other words, you can use a file tree wherever a file collection is required, but remember: a file collection is a flat list/set of files, while a file tree is a file and directory hierarchy. To convert a file tree to a flat collection, use the <a class="ulink" href="../javadoc/org/gradle/api/file/FileTree.html#getFiles--" target="_top"><code class="classname">FileTree.getFiles()</code></a> property.</p></div><p>The simplest way to create a file tree is to pass a file or directory path to the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:fileTree(java.lang.Object)" target="_top"><code class="classname">Project.fileTree(java.lang.Object)</code></a> method. This will create a tree of all the files and directories in that base directory (but not the base directory itself). The following example demonstrates how to use the basic method and, in addition, how to filter the files and directories using Ant-style patterns:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="fileTrees"></a><p class="title"><b>Example: Creating a file tree</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Create a file tree with a base directory</span>
FileTree tree = fileTree(dir: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main'</span>)

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Add include and exclude patterns to the tree</span>
tree.include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.java'</span>
tree.exclude <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/Abstract*'</span>

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Create a tree using path</span>
tree = fileTree(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>).include(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.java'</span>)

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Create a tree using closure</span>
tree = fileTree(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>) {
    include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.java'</span>
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Create a tree using a map</span>
tree = fileTree(dir: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>, include: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.java'</span>)
tree = fileTree(dir: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>, includes: [<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.java'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.xml'</span>])
tree = fileTree(dir: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>, include: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.java'</span>, exclude: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*test*/**'</span>)
</pre></div></div><br class="example-break"><p>You can see more examples of supported patterns in the API docs for <a class="ulink" href="../javadoc/org/gradle/api/tasks/util/PatternFilterable.html" target="_top"><code class="classname">PatternFilterable</code></a>. Also, see the API documentation for <code class="literal">fileTree()</code> to see what types you can pass as the base directory.</p><div class="note"><p>By default, <code class="literal">fileTree()</code> returns a <code class="literal">FileTree</code> instance that applies some default exclusion patterns for convenience &mdash; the same defaults as Ant in fact. For the complete default exclusion list, see <a class="ulink" href="http://ant.apache.org/manual/dirtasks.html#defaultexcludes" target="_top">the Ant manual</a>.</p><p>If those default exclusions prove problematic, you can workaround the issue by using the <a class="ulink" href="https://ant.apache.org/manual/Tasks/defaultexcludes.html" target="_top"><code class="literal">defaultexcludes</code> Ant task</a>, as demonstrated in this example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="antDefaultExcludes"></a><p class="title"><b>Example: Changing Ant default exclusions for a copy task</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task forcedCopy(type: Copy) {
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/inPlaceApp"</span>
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/webapp'</span>

    doFirst {
        ant.defaultexcludes remove: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/.git"</span>
        ant.defaultexcludes remove: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/.git/**"</span>
        ant.defaultexcludes remove: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"**/*~"</span>
    }

    doLast {
        ant.defaultexcludes <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">default</span>: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">true</span>
    }
}
</pre></div></div><br class="example-break"><p>In general, it&rsquo;s best to ensure that the default exclusions are reset whenever you change them as modifications are visible to the entire build. The above example is performing such a reset in its <code class="literal">doLast</code> action.</p></div><p>You can do many of the same things with file trees that you can with file collections:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>iterate over them (depth first)</p></li><li class="listitem"><p>filter them (using <a class="ulink" href="../javadoc/org/gradle/api/file/FileTree.html#matching-org.gradle.api.Action-" target="_top"><code class="classname">FileTree.matching(org.gradle.api.Action)</code></a> and Ant-style patterns)</p></li><li class="listitem"><p>merge them</p></li></ul></div><p>You can also traverse file trees using the <a class="ulink" href="../javadoc/org/gradle/api/file/FileTree.html#visit-org.gradle.api.Action-" target="_top"><code class="classname">FileTree.visit(org.gradle.api.Action)</code></a> method. All of these techniques are demonstrated in the following example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="fileTrees"></a><p class="title"><b>Example: Using a file tree</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Iterate over the contents of a tree</span>
tree.each {File file -&gt;
    println file
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Filter a tree</span>
FileTree filtered = tree.matching {
    include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org/gradle/api/**'</span>
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Add trees together</span>
FileTree sum = tree + fileTree(dir: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/test'</span>)

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Visit the elements of the tree</span>
tree.visit {element -&gt;
    println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"$element.relativePath =&gt; $element.file"</span>
}
</pre></div></div><br class="example-break"><p>We&rsquo;ve discussed how to create your own file trees and file collections, but it&rsquo;s also worth bearing in mind that many Gradle plugins provide their own instances of file trees, such as <a class="link" href="building_java_projects.html#sec:java_source_sets">Java&rsquo;s source sets</a>. These can be used and manipulated in exactly the same way as the file trees you create yourself.</p><p>Another specific type of file tree that users commonly need is the archive, i.e. ZIP files, TAR files, etc. We look at those next.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:archive_contents" class="section-anchor" href="#sec:archive_contents"></a>Using archives as file trees</h3></div></div></div><p>An archive is a directory and file hierarchy packed into a single file. In other words, it&rsquo;s a special case of a file tree, and that&rsquo;s exactly how Gradle treats archives. Instead of using the <code class="literal">fileTree()</code> method, which only works on normal file systems, you use the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:zipTree(java.lang.Object)" target="_top"><code class="classname">Project.zipTree(java.lang.Object)</code></a> and <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:tarTree(java.lang.Object)" target="_top"><code class="classname">Project.tarTree(java.lang.Object)</code></a> methods to wrap archive files of the corresponding type (note that JAR, WAR and EAR files are ZIPs). Both methods return <code class="literal">FileTree</code> instances that you can then use in the same way as normal file trees. For example, you can extract some or all of the files of an archive by copying its contents to some directory on the file system. Or you can merge one archive into another.</p><p>Here are some simple examples of creating archive-based file trees:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="fileTrees"></a><p class="title"><b>Example: Using an archive as a file tree</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Create a ZIP file tree using path</span>
FileTree zip = zipTree(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'someFile.zip'</span>)

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Create a TAR file tree using path</span>
FileTree tar = tarTree(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'someFile.tar'</span>)

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//tar tree attempts to guess the compression based on the file extension</span>
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">//however if you must specify the compression explicitly you can:</span>
FileTree someTar = tarTree(resources.gzip(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'someTar.ext'</span>))

</pre></div></div><br class="example-break"><p>You can see a practical example of extracting an archive file <a class="link" href="working_with_files.html#sec:unpacking_archives_example">in among the common scenarios</a> we cover.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:specifying_multiple_files" class="section-anchor" href="#sec:specifying_multiple_files"></a>Understanding implicit conversion to file collections</h3></div></div></div><p>Many objects in Gradle have properties which accept a set of input files.
For example, the <a class="ulink" href="../dsl/org.gradle.api.tasks.compile.JavaCompile.html" target="_top"><code class="classname">JavaCompile</code></a> task has a <code class="literal">source</code> property that defines the source files to compile.
You can set the value of this property using any of the types supported by the <a class="link" href="working_with_files.html#sec:file_collections">files()</a> method, as mentioned in the api docs.
This means you can, for example, set the property to a <code class="literal">File</code>, <code class="literal">String</code>, collection, <code class="literal">FileCollection</code> or even a closure.</p><p><span class="strong"><strong>This is a feature of specific tasks</strong></span>!
That means implicit conversion will not happen for just any task that has a <code class="literal">FileCollection</code> or <code class="literal">FileTree</code> property.
If you want to know whether implicit conversion happens in a particular situation, you will need to read the relevant documentation, such as the corresponding task&rsquo;s API docs.
Alternatively, you can remove all doubt by explicitly using <a class="ulink" href="../javadoc/org/gradle/api/file/ProjectLayout.html#files-java.lang.Object[]-" target="_top"><code class="classname">ProjectLayout.files(java.lang.Object[])</code></a> in your build.</p><p>Here are some examples of the different types of arguments that the <code class="literal">source</code> property can take:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="inputFiles"></a><p class="title"><b>Example: Specifying a set of files</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task compile(type: JavaCompile)

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use a File object to specify the source directory</span>
compile {
    source = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/java'</span>)
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use a String path to specify the source directory</span>
compile {
    source = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/java'</span>
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use a collection to specify multiple source directories</span>
compile {
    source = [<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/java'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'../shared/java'</span>]
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use a FileCollection (or FileTree in this case) to specify the source files</span>
compile {
    source = fileTree(dir: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/java'</span>).matching { include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'org/gradle/api/**'</span> }
}

<span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Using a closure to specify the source files.</span>
compile {
    source = {
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use the contents of each zip file in the src dir</span>
        file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>).listFiles().findAll {it.name.endsWith(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'.zip'</span>)}.collect { zipTree(it) }
    }
}
</pre></div></div><br class="example-break"><p>One other thing to note is that properties like <code class="literal">source</code> have corresponding methods in core Gradle tasks. Those methods follow the convention of <span class="emphasis"><em>appending</em></span> to collections of values rather than replacing them. Again, this method accepts any of the types supported by the <a class="link" href="working_with_files.html#sec:file_collections">files()</a> method, as shown here:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="inputFiles"></a><p class="title"><b>Example: Appending a set of files</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">compile {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Add some source directories use String paths</span>
    source <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/java'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/groovy'</span>

    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Add a source directory using a File object</span>
    source file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'../shared/java'</span>)

    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Add some source directories using a closure</span>
    source { file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/test/'</span>).listFiles() }
}
</pre></div></div><br class="example-break"><p>As this is a common convention, we recommend that you follow it in your own custom tasks. Specifically, if you plan to add a method to configure a collection-based property, make sure the method appends rather than replaces values.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:copying_files" class="section-anchor" href="#sec:copying_files"></a>File copying in depth</h2></div></div></div><p>The basic process of copying files in Gradle is a simple one:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Define a task of type <a class="ulink" href="../dsl/org.gradle.api.tasks.Copy.html" target="_top"><code class="classname">Copy</code></a></p></li><li class="listitem"><p>Specify which files (and potentially directories) to copy</p></li><li class="listitem"><p>Specify a destination for the copied files</p></li></ul></div><p>But this apparent simplicity hides a rich API that allows fine-grained control of which files are copied, where they go, and what happens to them as they are copied &mdash; renaming of the files and token substitution of file content are both possibilities, for example.</p><p>Let&rsquo;s start with the last two items on the list, which form what is known as a <span class="emphasis"><em>copy specification</em></span>. This is formally based on the <a class="ulink" href="../javadoc/org/gradle/api/file/CopySpec.html" target="_top"><code class="classname">CopySpec</code></a> interface, which the <code class="literal">Copy</code> task implements, and offers:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A <a class="ulink" href="../javadoc/org/gradle/api/file/CopySpec.html#from-java.lang.Object[]-" target="_top"><code class="classname">CopySpec.from(java.lang.Object[])</code></a> method to define what to copy</p></li><li class="listitem"><p>An <a class="ulink" href="../javadoc/org/gradle/api/file/CopySpec.html#into-java.lang.Object-" target="_top"><code class="classname">CopySpec.into(java.lang.Object)</code></a> method to define the destination</p></li></ul></div><p><code class="literal">CopySpec</code> has several additional methods that allow you to control the copying process, but these two are the only required ones. <code class="literal">into()</code> is straightforward, requiring a directory path as its argument in any form supported by the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:file(java.lang.Object)" target="_top"><code class="classname">Project.file(java.lang.Object)</code></a> method. The <code class="literal">from()</code> configuration is far more flexible.</p><p>Not only does <code class="literal">from()</code> accept multiple arguments, it also allows several different types of argument. For example, some of the most common types are:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A <code class="literal">String</code> &mdash; treated as a file path or, if it starts with "file://", a file URI</p></li><li class="listitem"><p>A <code class="literal">File</code> &mdash; used as a file path</p></li><li class="listitem"><p>A <code class="literal">FileCollection</code> or <code class="literal">FileTree</code> &mdash; all files in the collection are included in the copy</p></li><li class="listitem"><p>A task &mdash;&nbsp;the files or directories that form a task&rsquo;s <a class="link" href="more_about_tasks.html#sec:task_inputs_outputs">defined outputs</a> are included</p></li></ul></div><p>In fact, <code class="literal">from()</code> accepts all the same arguments as <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:files(java.lang.Object[])" target="_top"><code class="classname">Project.files(java.lang.Object[])</code></a>, <a class="ulink" href="../javadoc/org/gradle/api/file/ProjectLayout.html#files-java.lang.Object[]-" target="_top"><code class="classname">ProjectLayout.files(java.lang.Object[])</code></a>, and <a class="ulink" href="../javadoc/org/gradle/api/file/ProjectLayout.html#configurableFiles-java.lang.Object[]-" target="_top"><code class="classname">ProjectLayout.configurableFiles(java.lang.Object[])</code></a>, so see those methods for a more detailed list of acceptable types.</p><p>Something else to consider is what type of thing a file path refers to:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A file &mdash; the file is copied as is</p></li><li class="listitem"><p>A directory &mdash; this is effectively treated as a file tree: everything in it, including subdirectories, is copied. However, the directory itself is not included in the copy.</p></li><li class="listitem"><p>A non-existent file &mdash; the path is ignored</p></li></ul></div><p>Here is an example that uses multiple <code class="literal">from()</code> specifications, each with a different argument type. You will probably also notice that <code class="literal">into()</code> is configured lazily using a closure &mdash;&nbsp;a technique that also works with <code class="literal">from()</code>:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copy"></a><p class="title"><b>Example: Specifying copy task source files and destination directory</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task anotherCopyTask(type: Copy) {
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Copy everything under src/main/webapp</span>
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/webapp'</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Copy a single file</span>
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/staging/index.html'</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Copy the output of a task</span>
    from copyTask
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Copy the output of a task using Task outputs explicitly.</span>
    from copyTaskWithPatterns.outputs
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Copy the contents of a Zip file</span>
    from zipTree(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/assets.zip'</span>)
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Determine the destination directory later</span>
    into { getDestDir() }
}
</pre></div></div><br class="example-break"><p>Note that the lazy configuration of <code class="literal">into()</code> is different from a <a class="link" href="working_with_files.html#_using_child_specifications">child specification</a>, even though the syntax is similar. Keep an eye on the number of arguments to distinguish between them.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="_filtering_files" class="section-anchor" href="#_filtering_files"></a>Filtering files</h3></div></div></div><p>You&rsquo;ve already seen that you can filter file collections and file trees directly in a <code class="literal">Copy</code> task, but you can also apply filtering in any copy specification through the <a class="ulink" href="../javadoc/org/gradle/api/file/CopySpec.html#include-java.lang.String[]-" target="_top"><code class="classname">CopySpec.include(java.lang.String[])</code></a> and <a class="ulink" href="../javadoc/org/gradle/api/file/CopySpec.html#exclude-java.lang.String[]-" target="_top"><code class="classname">CopySpec.exclude(java.lang.String[])</code></a> methods.</p><p>Both of these methods are normally used with Ant-style include or exclude patterns, as described in <a class="ulink" href="../javadoc/org/gradle/api/tasks/util/PatternFilterable.html" target="_top"><code class="classname">PatternFilterable</code></a>. You can also perform more complex logic by using a closure that takes a <a class="ulink" href="../javadoc/org/gradle/api/file/FileTreeElement.html" target="_top"><code class="classname">FileTreeElement</code></a> and returns <code class="literal">true</code> if the file should be included or <code class="literal">false</code> otherwise. The following example demonstrates both forms, ensuring that only .html and .jsp files are copied, except for those .html files with the word "DRAFT" in their content:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copy"></a><p class="title"><b>Example: Selecting the files to copy</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyTaskWithPatterns(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/webapp'</span>
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/explodedWar"</span>
    include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.html'</span>
    include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.jsp'</span>
    exclude { FileTreeElement details -&gt;
        details.file.name.endsWith(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'.html'</span>) &amp;&amp;
            details.file.text.contains(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'DRAFT'</span>)
    }
}
</pre></div></div><br class="example-break"><p>A question you may ask yourself at this point is what happens when inclusion and exclusion patterns overlap? Which pattern wins? Here are the basic rules:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>If there are no explicit inclusions or exclusions, everything is included</p></li><li class="listitem"><p>If at least one inclusion is specified, only files and directories matching the patterns are included</p></li><li class="listitem"><p>Any exclusion pattern overrides any inclusions, so if a file or directory matches at least one exclusion pattern, it won&rsquo;t be included, regardless of the inclusion patterns</p></li></ul></div><p>Bear these rules in mind when creating combined inclusion and exclusion specifications so that you end up with the exact behavior you want.</p><p>Note that the inclusions and exclusions in the above example will apply to <span class="emphasis"><em>all</em></span> <code class="literal">from()</code> configurations. If you want to apply filtering to a subset of the copied files, you&rsquo;ll need to use <a class="link" href="working_with_files.html#_using_child_specifications">child specifications</a>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:renaming_files" class="section-anchor" href="#sec:renaming_files"></a>Renaming files</h3></div></div></div><p>The <a class="link" href="working_with_files.html#sec:renaming_files_example">example of how to rename files on copy</a> gives you most of the information you need to perform this operation. It demonstrates the two options for renaming:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Using a regular expression</p></li><li class="listitem"><p>Using a closure</p></li></ul></div><p>Regular expressions are a flexible approach to renaming, particularly as Gradle supports regex groups that allow you to remove and replaces parts of the source filename. The following example shows how you can remove the string "-staging-" from any filename that contains it using a simple regular expression:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="renameOnCopy"></a><p class="title"><b>Example: Renaming files as they are copied</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task rename(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/webapp'</span>
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/explodedWar"</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use a closure to convert all file names to upper case</span>
    rename { String fileName -&gt;
        fileName.toUpperCase()
    }
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use a regular expression to map the file name</span>
    rename <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'(.+)-staging-(.+)'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'$1$2'</span>
    rename(/(.+)-staging-(.+)/, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'$1$2'</span>)
}
</pre></div></div><br class="example-break"><p>You can use any regular expression supported by the Java <code class="literal"><a class="ulink" href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html" target="_top">Pattern</a></code> class and the substitution string (the second argument of <code class="literal">rename()</code> works on the same principles as the <code class="literal"><a class="ulink" href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#appendReplacement-java.lang.StringBuffer-java.lang.String-" target="_top">Matcher.appendReplacement()</a></code> method.</p><div class="note"><h3 class="title">Regular expressions in Groovy build scripts</h3><p>There are two common issues people come across when using regular expressions in this context:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>If you use a slashy string (those delimited by '/') for the first argument, you <span class="emphasis"><em>must</em></span> include the parentheses for <code class="literal">rename()</code> as shown in the above example.</p></li><li class="listitem"><p>It&rsquo;s safest to use single quotes for the second argument, otherwise you need to escape the '$' in group substitutions, i.e. <code class="literal">"\$1\$2"</code></p></li></ol></div><p>The first is a minor inconvenience, but slashy strings have the advantage that you don&rsquo;t have to escape backslash ('\') characters in the regular expression. The second issue stems from Groovy&rsquo;s support for embedded expressions using <code class="literal">${ }</code> syntax in double-quoted and slashy strings.</p></div><p>The closure syntax for <code class="literal">rename()</code> is straightforward and can be used for any requirements that simple regular expressions can&rsquo;t handle. You&rsquo;re given the name of a file and you return a new name for that file, or <code class="literal">null</code> if you don&rsquo;t want to change the name. Do be aware that the closure will be executed for every file that&rsquo;s copied, so try to avoid expensive operations where possible.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:filtering_files" class="section-anchor" href="#sec:filtering_files"></a>Filtering file content (token substitution, templating, etc.)</h3></div></div></div><p>Not to be confused with filtering which files are copied, <span class="emphasis"><em>file content filtering</em></span> allows you to transform the content of files while they are being copied. This can involve basic templating that uses token substitution, removal of lines of text, or even more complex filtering using a full-blown template engine.</p><p>The following example demonstrates several forms of filtering, including token substitution using the <a class="ulink" href="../javadoc/org/gradle/api/file/CopySpec.html#expand-java.util.Map-" target="_top"><code class="classname">CopySpec.expand(java.util.Map)</code></a> method and another using <a class="ulink" href="../javadoc/org/gradle/api/file/CopySpec.html#filter-java.lang.Class-" target="_top"><code class="classname">CopySpec.filter(java.lang.Class)</code></a> with an <a class="ulink" href="https://ant.apache.org/manual/Types/filterchain.html" target="_top">Ant filter</a>:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="filterOnCopy"></a><p class="title"><b>Example: Filtering files as they are copied</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">import</span> org.apache.tools.ant.filters.FixCrLfFilter
<span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">import</span> org.apache.tools.ant.filters.ReplaceTokens

task filter(type: Copy) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/webapp'</span>
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/explodedWar"</span>
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Substitute property tokens in files</span>
    expand(copyright: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'2009'</span>, version: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'2.3.1'</span>)
    expand(project.properties)
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use some of the filters provided by Ant</span>
    filter(FixCrLfFilter)
    filter(ReplaceTokens, tokens: [copyright: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'2009'</span>, version: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'2.3.1'</span>])
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use a closure to filter each line</span>
    filter { String line -&gt;
        <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"[$line]"</span>
    }
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Use a closure to remove lines</span>
    filter { String line -&gt;
        line.startsWith(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'-'</span>) ? <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">null</span> : line
    }
    filteringCharset = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'UTF-8'</span>
}
</pre></div></div><br class="example-break"><p>The <code class="literal">filter()</code> method has two variants, which behave differently:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>one takes a <code class="literal"><a class="ulink" href="https://docs.oracle.com/javase/7/docs/api/java/io/FilterReader.html" target="_top">FilterReader</a></code> and is designed to work with Ant filters, such as <code class="literal">ReplaceTokens</code></p></li><li class="listitem"><p>one takes a closure or <a class="ulink" href="../javadoc/org/gradle/api/Transformer.html" target="_top"><code class="classname">Transformer</code></a> that defines the transformation for each line of the source file</p></li></ul></div><p>Note that both variants assume the source files are text based. When you use the <code class="literal">ReplaceTokens</code> class with <code class="literal">filter()</code>, the result is a template engine that replaces tokens of the form <code class="literal">@tokenName@</code> (the Ant-style token) with values that you define.</p><p>The <code class="literal">expand()</code> method treats the source files as <a class="ulink" href="http://docs.groovy-lang.org/latest/html/api/groovy/text/SimpleTemplateEngine.html" target="_top">Groovy templates</a>, which evaluate and expand expressions of the form <code class="literal">${expression}</code>. You can pass in property names and values that are then expanded in the source files. <code class="literal">expand()</code> allows for more than basic token substitution as the embedded expressions are full-blown Groovy expressions.</p><div class="note"><p>It&rsquo;s good practice to specify the character set when reading and writing the file, otherwise the transformations won&rsquo;t work properly for non-ASCII text. You configure the character set with the <a class="ulink" href="../javadoc/org/gradle/api/file/CopySpec.html#getFilteringCharset--" target="_top"><code class="classname">CopySpec.getFilteringCharset()</code></a> property. If it&rsquo;s not specified, the JVM default character set is used, which is likely to be different from the one you want.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:using_the_copyspec_class" class="section-anchor" href="#sec:using_the_copyspec_class"></a>Using the <code class="literal">CopySpec</code> class</h3></div></div></div><p>A copy specification (or copy spec for short) determines what gets copied to where, and what happens to files during the copy. You&rsquo;ve alread seen many examples in the form of configuration for <code class="literal">Copy</code> and archiving tasks. But copy specs have two attributes that are worth covering in more detail:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>They can be independent of tasks</p></li><li class="listitem"><p>They are hierarchical</p></li></ol></div><p>The first of these attributes allows you to <span class="emphasis"><em>share copy specs within a build</em></span>. The second provides fine-grained control within the overall copy specification.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="_sharing_copy_specs" class="section-anchor" href="#_sharing_copy_specs"></a>Sharing copy specs</h4></div></div></div><p>Consider a build that has several tasks that copy a project&rsquo;s static website resources or add them to an archive. One task might copy the resources to a folder for a local HTTP server and another might package them into a distribution. You could manually specify the file locations and appropriate inclusions each time they are needed, but human error is more likely to creep in, resulting in inconsistencies between tasks.</p><p>One solution Gradle provides is the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:copySpec(org.gradle.api.Action)" target="_top"><code class="classname">Project.copySpec(org.gradle.api.Action)</code></a> method. This allows you to create a copy spec outside of a task, which can then be attached to an appropriate task using the <a class="ulink" href="../javadoc/org/gradle/api/file/CopySpec.html#with-org.gradle.api.file.CopySpec[]-" target="_top"><code class="classname">CopySpec.with(org.gradle.api.file.CopySpec[])</code></a> method. The following example demonstrates how this is done:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="sharingCopySpecs"></a><p class="title"><b>Example: Sharing copy specifications</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">CopySpec webAssetsSpec = copySpec {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/webapp'</span>
    include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.html'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.png'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.jpg'</span>
    rename <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'(.+)-staging(.+)'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'$1$2'</span>
}

task copyAssets(type: Copy) {
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/inPlaceApp"</span>
    with webAssetsSpec
}

task distApp(type: Zip) {
    archiveName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'my-app-dist.zip'</span>
    destinationDir = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/dists"</span>)

    from appClasses
    with webAssetsSpec
}
</pre></div></div><br class="example-break"><p>Both the <code class="literal">copyAssets</code> and <code class="literal">distApp</code> tasks will process the static resources under <code class="literal">src/main/webapp</code>, as specified by <code class="literal">webAssetsSpec</code>.</p><div class="note"><p>The configuration defined by <code class="literal">webAssetsSpec</code> will <span class="emphasis"><em>not</em></span> apply to the app classes included by the <code class="literal">distApp</code> task. That&rsquo;s because <code class="literal">from appClasses</code> is its own child specification independent of <code class="literal">with webAssetsSpec</code>.</p><p>This can be confusing to understand, so it&rsquo;s probably best to treat <code class="literal">with()</code> as an extra <code class="literal">from()</code> specification in the task. Hence it doesn&rsquo;t make sense to define a standalone copy spec without at least one <code class="literal">from()</code> defined.</p></div><p>If you encounter a scenario in which you want to apply the same copy configuration to <span class="emphasis"><em>different</em></span> sets of files, then you can share the configuration block directly without using <code class="literal">copySpec()</code>. Here&rsquo;s an example that has two independent tasks that happen to want to process image files only:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="sharingCopyPatterns"></a><p class="title"><b>Example: Sharing copy patterns only</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting"><span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">def</span> webAssetPatterns = {
    include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.html'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.png'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.jpg'</span>
}

task copyAppAssets(type: Copy) {
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/inPlaceApp"</span>
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/webapp'</span>, webAssetPatterns
}

task archiveDistAssets(type: Zip) {
    archiveName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'distribution-assets.zip'</span>
    destinationDir = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/dists"</span>)

    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'distResources'</span>, webAssetPatterns
}
</pre></div></div><br class="example-break"><p>In this case, we assign the copy configuration to its own variable and apply it to whatever <code class="literal">from()</code> specification we want. This doesn&rsquo;t just work for inclusions, but also exclusions, file renaming, and file content filtering.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="_using_child_specifications" class="section-anchor" href="#_using_child_specifications"></a>Using child specifications</h4></div></div></div><p>If you only use a single copy spec, the file filtering and renaming will apply to <span class="emphasis"><em>all</em></span> the files that are copied. Sometimes this is what you want, but not always. Consider the following example that copies files into a directory structure that can be used by a Java Servlet container to deliver a website:</p><div class="figure"><a xmlns:xslthl="http://xslthl.sf.net" name="N12EDC"></a><p class="title"><b>Figure: Creating an exploded WAR for a Servlet container</b></p><div class="figure-contents"><table cellpadding="0" cellspacing="0" summary="manufactured viewport for HTML img" border="0" width="567"><tr><td><img src="img/exploded-war-child-copy-spec-example.png" width="567" alt="Creating an exploded WAR for a Servlet container"></td></tr></table></div></div><br class="figure-break"><p>This is not a straightforward copy as the <code class="literal">WEB-INF</code> directory and its subdirectories don&rsquo;t exist within the project, so they must be created during the copy. In addition, we only want HTML and image files going directly into the root folder &mdash; <code class="literal">build/explodedWar</code> &mdash; and only JavaScript files going into the <code class="literal">js</code> directory. So we need separate filter patterns for those two sets of files.</p><p>The solution is to use <span class="emphasis"><em>child specifications</em></span>, which can be applied to both <code class="literal">from()</code> and <code class="literal">into()</code> declarations. The following task definition does the necessary work:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="nestedCopySpecs"></a><p class="title"><b>Example: Nested copy specs</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task nestedSpecs(type: Copy) {
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/explodedWar"</span>
    exclude <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*staging*'</span>
    from(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/dist'</span>) {
        include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.html'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.png'</span>, <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.jpg'</span>
    }
    from(sourceSets.main.output) {
        into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'WEB-INF/classes'</span>
    }
    into(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'WEB-INF/lib'</span>) {
        from configurations.runtimeClasspath
    }
}
</pre></div></div><br class="example-break"><p>Notice how the <code class="literal">src/dist</code> configuration has a nested inclusion specification: that&rsquo;s the child copy spec. You can of course add content filtering and renaming here as required. A child copy spec is still a copy spec.</p><p>The above example also demonstrates how you can copy files into a subdirectory of the destination either by using a child <code class="literal">into()</code> on a <code class="literal">from()</code> or a child <code class="literal">from()</code> on an <code class="literal">into()</code>. Both approaches are acceptable, but you may want to create and follow a convention to ensure consistency across your build files.</p><div class="note"><p>Don&rsquo;t get your <code class="literal">into()</code> specifications mixed up! For a normal copy &mdash;&nbsp;one to the filesystem rather than an archive &mdash; there should always be <span class="emphasis"><em>one</em></span> "root" <code class="literal">into()</code> that simply specifies the overall destination directory of the copy. Any other <code class="literal">into()</code> should have a child spec attached and its path will be relative to the root <code class="literal">into()</code>.</p></div><p>One final thing to be aware of is that a child copy spec inherits its destination path, include patterns, exclude patterns, copy actions, name mappings and filters from its parent. So be careful where you place your configuration.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:project_copy_method" class="section-anchor" href="#sec:project_copy_method"></a>Copying files in your own tasks</h3></div></div></div><p>There might be occasions when you want to copy files or directories as <span class="emphasis"><em>part</em></span> of a task. For example, a custom archiving task based on an unsupported archive format might want to copy files to a temporary directory before they are then archived. You still want to take advantage of Gradle&rsquo;s copy API, but without introducing an extra <code class="literal">Copy</code> task.</p><p>The solution is to use the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:copy(org.gradle.api.Action)" target="_top"><code class="classname">Project.copy(org.gradle.api.Action)</code></a> method. It works the same way as the <code class="literal">Copy</code> task by configuring it with a copy spec. Here&rsquo;s a trivial example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copy"></a><p class="title"><b>Example: Copying files using the copy() method without up-to-date check</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyMethod {
    doLast {
        copy {
            from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src/main/webapp'</span>
            into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/explodedWar"</span>
            include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.html'</span>
            include <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'**/*.jsp'</span>
        }
    }
}
</pre></div></div><br class="example-break"><p>The above example demonstrates the basic syntax and also highlights two major limitations of using the <code class="literal">copy()</code> method:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>The <code class="literal">copy()</code> method is not <a class="link" href="more_about_tasks.html#sec:up_to_date_checks">incremental</a>. The example&rsquo;s <code class="literal">copyMethod</code> task will <span class="emphasis"><em>always</em></span> execute because it has no information about what files make up the task&rsquo;s inputs. You have to manually define the task inputs and outputs.</p></li><li class="listitem"><p>Using a task as a copy source, i.e. as an argument to <code class="literal">from()</code>, won&rsquo;t set up an automatic task dependency between your task and that copy source. As such, if you are using the <code class="literal">copy()</code> method as part of a task action, you must explicitly declare all inputs and outputs in order to get the correct behavior.</p></li></ol></div><p>The following example shows you how to workaround these limitations by using the <a class="link" href="more_about_tasks.html#sec:task_input_output_runtime_api">dynamic API for task inputs and outputs</a>:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="copy"></a><p class="title"><b>Example: Copying files using the copy() method with up-to-date check</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task copyMethodWithExplicitDependencies{
    <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// up-to-date check for inputs, plus add copyTask as dependency</span>
    inputs.files copyTask
    outputs.dir <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'some-dir'</span> <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// up-to-date check for outputs</span>
    doLast{
        copy {
            <span xmlns:xslthl="http://xslthl.sf.net" class="hl-comment">// Copy the output of copyTask</span>
            from copyTask
            into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'some-dir'</span>
        }
    }
}
</pre></div></div><br class="example-break"><p>These limitations make it preferable to use the <code class="literal">Copy</code> task wherever possible, because of its builtin support for incremental building and task dependency inference. That is why the <code class="literal">copy()</code> method is intended for use by <a class="link" href="custom_tasks.html">custom tasks</a> that need to copy files as part of their function. Custom tasks that use the <code class="literal">copy()</code> method should declare the necessary inputs and outputs relevant to the copy action.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:sync_task" class="section-anchor" href="#sec:sync_task"></a>Mirroring directories and file collections with the <code class="literal">Sync</code> task</h3></div></div></div><p>The <a class="ulink" href="../dsl/org.gradle.api.tasks.Sync.html" target="_top"><code class="classname">Sync</code></a> task, which extends the <code class="literal">Copy</code> task, copies the source files into the destination directory and then removes any files from the destination directory which it did not copy. In other words, it synchronizes the contents of a directory with its source. This can be useful for doing things such as installing your application, creating an exploded copy of your archives, or maintaining a copy of the project&rsquo;s dependencies.</p><p>Here is an example which maintains a copy of the project&rsquo;s runtime dependencies in the <code class="literal">build/libs</code> directory.</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="syncDependencies"></a><p class="title"><b>Example: Using the Sync task to copy dependencies</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task libs(type: Sync) {
    from configurations.runtime
    into <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/libs"</span>
}
</pre></div></div><br class="example-break"><p>You can also perform the same function in your own tasks with the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:sync(org.gradle.api.Action)" target="_top"><code class="classname">Project.sync(org.gradle.api.Action)</code></a> method.</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:archives" class="section-anchor" href="#sec:archives"></a>Archive creation in depth</h2></div></div></div><p>Archives are essentially self-contained file systems and Gradle treats them as such. This is why working with archives is very similar to working with files and directories, including such things as file permissions.</p><p>Out of the box, Gradle supports creation of both ZIP and TAR archives, and by extension Java&rsquo;s JAR, WAR and EAR formats &mdash;&nbsp;Java&rsquo;s archive formats are all ZIPs. Each of these formats has a corresponding task type to create them: <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.Zip.html" target="_top"><code class="classname">Zip</code></a>, <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.Tar.html" target="_top"><code class="classname">Tar</code></a>, <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.Jar.html" target="_top"><code class="classname">Jar</code></a>, <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.War.html" target="_top"><code class="classname">War</code></a>, and <a class="ulink" href="../dsl/org.gradle.plugins.ear.Ear.html" target="_top"><code class="classname">Ear</code></a>. These all work the same way and are based on copy specifications, just like the <code class="literal">Copy</code> task.</p><p>Creating an archive file is essentially a file copy in which the destination is implicit, i.e. the archive file itself. Here&rsquo;s a basic example that specifies the path and name of the target archive file:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="createArchiveExample"></a><p class="title"><b>Example: Archiving a directory as a ZIP</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task packageDistribution(type: Zip) {
    archiveName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"my-distribution.zip"</span>
    destinationDir = file(<span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/dist"</span>)

    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"${buildDir}/toArchive"</span>
}
</pre></div></div><br class="example-break"><p>In the next section you&rsquo;ll learn about convention-based archive names, which can save you from always configuring the destination directory and archive name.</p><p>The full power of copy specifications are available to you when creating archives, which means you can do content filtering, file renaming or anything else that is covered in the previous section. A particularly common requirement is copying files into subdirectories of the archive that don&rsquo;t exist in the source folders, something that can be achieved with <code class="literal">into()</code> <a class="link" href="working_with_files.html#_using_child_specifications">child specifications</a>.</p><p>Gradle does of course allow you create as many archive tasks as you want, but it&rsquo;s worth bearing in mind that many convention-based plugins provide their own. For example, the Java plugin adds a <code class="literal">jar</code> task for packaging a project&rsquo;s compiled classes and resources in a JAR. Many of these plugins provide sensible conventions for the names of archives as well as the copy specifications used. We recommend you use these tasks wherever you can, rather than overriding them with your own.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:archive_naming" class="section-anchor" href="#sec:archive_naming"></a>Archive naming</h3></div></div></div><p>Gradle has several conventions around the naming of archives and where they are created based on the plugins your project uses. The main convention is provided by the <a class="link" href="standard_plugins.html#sec:base_plugins">Base Plugin</a>, which defaults to creating archives in the <code class="literal">$buildDir/distributions</code> directory and typically uses archive names of the form <span class="emphasis"><em>[projectName]-[version].[type]</em></span>.</p><p>The following example comes from a project named 'zipProject', hence the <code class="literal">myZip</code> task creates an archive named 'zipProject-1.0.zip':</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="archiveNaming"></a><p class="title"><b>Example: Creation of ZIP archive</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">plugins {
    id <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'base'</span>
}

version = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1.0</span>

task myZip(type: Zip) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'somedir'</span>

    doLast {
        println archiveName
        println relativePath(destinationDir)
        println relativePath(archivePath)
    }
}
</pre><p>Output of <strong class="userinput"><code>gradle -q myZip</code></strong></p><pre class="screen">&gt; gradle -q myZip
zipProject-1.0.zip
build/distributions
build/distributions/zipProject-1.0.zip
</pre></div></div><br class="example-break"><p>Note that the name of the archive does <span class="emphasis"><em>not</em></span> derive from the name of the task that creates it.</p><p>If you want to change the name and location of a generated archive file, you can provide values for the <code class="literal">archiveName</code> and <code class="literal">destinationDir</code> properties of the corresponding task. These override any conventions that would otherwise apply.</p><p>Alternatively, you can make use of the default archive name pattern provided by <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.AbstractArchiveTask.html#org.gradle.api.tasks.bundling.AbstractArchiveTask:archiveName" target="_top"><code class="classname">AbstractArchiveTask.getArchiveName()</code></a>: <span class="emphasis"><em>[baseName]-[appendix]-[version]-[classifier].[extension]</em></span>. You can set each of these properties on the task separately if you wish. Note that the Base Plugin uses the convention of project name for <span class="emphasis"><em>baseName</em></span>, project version for <span class="emphasis"><em>version</em></span> and the archive type for <span class="emphasis"><em>extension</em></span>. It does not provide values for the other properties.</p><p>This example &mdash; from the same project as the one above &mdash; configures just the <code class="literal">baseName</code> property, overriding the default value of the project name:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="zipWithCustomName"></a><p class="title"><b>Example: Configuration of archive task - custom archive name</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">task myCustomZip(type: Zip) {
    baseName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'customName'</span>
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'somedir'</span>

    doLast {
        println archiveName
    }
}
</pre><p>Output of <strong class="userinput"><code>gradle -q myCustomZip</code></strong></p><pre class="screen">&gt; gradle -q myCustomZip
customName-1.0.zip
</pre></div></div><br class="example-break"><p>You can also override the default <code class="literal">baseName</code> value for <span class="emphasis"><em>all</em></span> the archive tasks in your build by using the <span class="emphasis"><em>project</em></span> property <code class="literal">archivesBaseName</code>, as demonstrated by the following example:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="zipWithArchivesBaseName"></a><p class="title"><b>Example: Configuration of archive task - appendix &amp; classifier</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">plugins {
    id <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'base'</span>
}

version = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-number">1.0</span>
archivesBaseName = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"gradle"</span>

task myZip(type: Zip) {
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'somedir'</span>
}

task myOtherZip(type: Zip) {
    appendix = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'wrapper'</span>
    classifier = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'src'</span>
    from <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'somedir'</span>
}

task echoNames {
    doLast {
        println <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">"Project name: ${project.name}"</span>
        println myZip.archiveName
        println myOtherZip.archiveName
    }
}
</pre><p>Output of <strong class="userinput"><code>gradle -q echoNames</code></strong></p><pre class="screen">&gt; gradle -q echoNames
Project name: zipProject
gradle-1.0.zip
gradle-wrapper-1.0-src.zip
</pre></div></div><br class="example-break"><p>You can find all the possible archive task properties in the API documentation for <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.AbstractArchiveTask.html" target="_top"><code class="classname">AbstractArchiveTask</code></a>, but we have also summarized the main ones here:</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">archiveName</code> &mdash; <code class="literal">String</code>, default: <code class="literal"><span class="emphasis"><em>baseName</em></span>-<span class="emphasis"><em>appendix</em></span>-<span class="emphasis"><em>version</em></span>-<span class="emphasis"><em>classifier</em></span>.<span class="emphasis"><em>extension</em></span></code></span></dt><dd><p>The complete file name of the generated archive. If any of the properties in the default value are empty, their '-' separator is dropped.</p></dd><dt><span class="term"><code class="literal">archivePath</code> &mdash; <code class="literal">File</code>, <span class="emphasis"><em>read-only</em></span>, default: <code class="literal"><span class="emphasis"><em>destinationDir</em></span>/<span class="emphasis"><em>archiveName</em></span></code></span></dt><dd><p>The absolute file path of the generated archive.</p></dd><dt><span class="term"><code class="literal">destinationDir</code> &mdash; <code class="literal">File</code>, default: depends on archive type</span></dt><dd><p>The target directory in which to put the generated archive. By default, JARs and WARs go into <code class="literal">$buildDir/libs</code>. ZIPs and TARs go into <code class="literal">$buildDir/distributions</code>.</p></dd><dt><span class="term"><code class="literal">baseName</code> &mdash; <code class="literal">String</code>, default: <code class="literal"><span class="emphasis"><em>project.name</em></span></code></span></dt><dd><p>The base name portion of the archive file name, typically a project name or some other descriptive name for what it contains.</p></dd><dt><span class="term"><code class="literal">appendix</code> &mdash; <code class="literal">String</code>, default: <code class="literal">null</code></span></dt><dd><p>The appendix portion of the archive file name that comes immediately after the base name. It is typically used to distinguish between different forms of content, such as code and docs, or a minimal distribution versus a full or complete one.</p></dd><dt><span class="term"><code class="literal">version</code> &mdash; <code class="literal">String</code>, default: <code class="literal"><span class="emphasis"><em>project.version</em></span></code></span></dt><dd><p>The version portion of the archive file name, typically in the form of a normal project or product version.</p></dd><dt><span class="term"><code class="literal">classifier</code> &mdash; <code class="literal">String</code>, default: <code class="literal">null</code></span></dt><dd><p>The classifier portion of the archive file name. Often used to distinguish between archives that target different platforms.</p></dd><dt><span class="term"><code class="literal">extension</code> &mdash; <code class="literal">String</code>, default: depends on archive type and compression type</span></dt><dd><p>The filename extension for the archive. By default, this is set based on the archive task type and the compression type (if you&rsquo;re creating a TAR). Will be one of: <code class="literal">zip</code>, <code class="literal">jar</code>, <code class="literal">war</code>, <code class="literal">tar</code>, <code class="literal">tgz</code> or <code class="literal">tbz2</code>. You can of course set this to a custom extension if you wish.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:sharing_content_between_multiple_archives" class="section-anchor" href="#sec:sharing_content_between_multiple_archives"></a>Sharing content between multiple archives</h3></div></div></div><p><a class="link" href="working_with_files.html#_sharing_copy_specs">As described earlier</a>, you can use the <a class="ulink" href="../dsl/org.gradle.api.Project.html#org.gradle.api.Project:copySpec(org.gradle.api.Action)" target="_top"><code class="classname">Project.copySpec(org.gradle.api.Action)</code></a> method to share content between archives.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a xmlns:xslthl="http://xslthl.sf.net" name="sec:reproducible_archives" class="section-anchor" href="#sec:reproducible_archives"></a>Reproducible archives</h3></div></div></div><p>Sometimes it&rsquo;s desirable to recreate archives exactly the same, byte for byte, on different machines. You want to be sure that building an artifact from source code produces the same result no matter when and where it is built. This is necessary for projects like <a class="ulink" href="https://reproducible-builds.org/" target="_top">reproducible-builds.org</a>.</p><p>Reproducing the same byte-for-byte archive poses some challenges since the order of the files in an archive is influenced by the underlying file system. Each time a ZIP, TAR, JAR, WAR or EAR is built from source, the order of the files inside the archive may change. Files that only have a different timestamp also causes differences in archives from build to build. All <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.AbstractArchiveTask.html" target="_top"><code class="classname">AbstractArchiveTask</code></a> (e.g. Jar, Zip) tasks shipped with Gradle include <a class="link" href="feature_lifecycle.html">incubating</a> support producing reproducible archives.</p><p>For example, to make a <code class="literal">Zip</code> task reproducible you need to set <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.Zip.html#org.gradle.api.tasks.bundling.Zip:reproducibleFileOrder" target="_top"><code class="classname">Zip.isReproducibleFileOrder()</code></a> to <code class="literal">true</code> and <a class="ulink" href="../dsl/org.gradle.api.tasks.bundling.Zip.html#org.gradle.api.tasks.bundling.Zip:preserveFileTimestamps" target="_top"><code class="classname">Zip.isPreserveFileTimestamps()</code></a> to <code class="literal">false</code>. In order to make all archive tasks in your build reproducible, consider adding the following configuration to your build file:</p><div class="example"><a xmlns:xslthl="http://xslthl.sf.net" name="createZip"></a><p class="title"><b>Example: Activating reproducible archives</b></p><div class="example-contents"><p><code class="filename">build.gradle</code></p><pre class="programlisting">tasks.withType(AbstractArchiveTask) {
    preserveFileTimestamps = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">false</span>
    reproducibleFileOrder = <span xmlns:xslthl="http://xslthl.sf.net" class="hl-keyword">true</span>
}
</pre></div></div><br class="example-break"><p>Often you will want to publish an archive, so that it is usable from another project. This process is described in <a class="xref" href="artifact_management.html"><i>Publishing artifacts</i></a></p></div></div></div><aside class="secondary-navigation"></aside></main><footer xmlns:xslthl="http://xslthl.sf.net" itemtype="https://schema.org/WPFooter" itemscope="itemscope" class="site-layout__footer site-footer"><nav itemtype="https://schema.org/SiteNavigationElement" class="site-footer__navigation"><section class="site-footer__links"><div class="site-footer__link-group"><header><strong>Docs</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="/userguide/userguide.html">User Manual</a></li><li itemprop="name"><a itemprop="url" href="/dsl/">DSL Reference</a></li><li itemprop="name"><a itemprop="url" href="/release-notes.html">Release Notes</a></li><li itemprop="name"><a itemprop="url" href="/javadoc/">Javadoc</a></li></ul></div><div class="site-footer__link-group"><header><strong>News</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://blog.gradle.org/">Blog</a></li><li itemprop="name"><a itemprop="url" href="https://newsletter.gradle.com/">Newsletter</a></li><li itemprop="name"><a itemprop="url" href="https://twitter.com/gradle">Twitter</a></li></ul></div><div class="site-footer__link-group"><header><strong>Products</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://gradle.com/build-scans">Build Scans</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.com/build-cache">Build Cache</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.com/enterprise/resources">Enterprise Docs</a></li></ul></div><div class="site-footer__link-group"><header><strong>Get Help</strong></header><ul class="site-footer__links-list"><li itemprop="name"><a itemprop="url" href="https://discuss.gradle.org/c/help-discuss">Forums</a></li><li itemprop="name"><a itemprop="url" href="https://github.com/gradle/">GitHub</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.org/training/">Training</a></li><li itemprop="name"><a itemprop="url" href="https://gradle.org/services/">Services</a></li></ul></div></section><section class="site-footer__subscribe-newsletter"><p>Subscribe for important Gradle updates and news</p><form method="post" action="https://go.pardot.com/l/68052/2017-12-01/b8dh7j" class="newsletter-form" id="newsletter-form"><input required="" maxlength="255" pattern="[^@\s]+@[^@\s]+\.[^@\s]+" placeholder="name@email.com" type="email" name="email" class="email" id="email"><button type="submit" class="submit" id="submit">Subscribe</button></form><p class="disclaimer">By entering your email, you agree to our <a href="https://gradle.org/terms/">Terms</a> and <a href="https://gradle.org/privacy/">Privacy Policy</a>, including receipt of emails. You can unsubscribe at any time.</p></section></nav><div class="site-footer-secondary"><div class="site-footer-secondary__contents"><div class="site-footer__copy">&copy; <a href="https://gradle.com">Gradle Inc.</a><time>2018</time> All rights reserved.</div><div class="site-footer__logo"><a href="/"><svg xmlns="http://www.w3.org/2000/svg" class="logo-icon" viewBox="0 0 40 40" height="40" width="40"><g style="fill:none;opacity:0.7"><g fill="#11272E"><path d="M37.7 7.1C36.4 4.8 34 4 32.4 4 30.4 4 28.7 5.1 29 5.9 29.1 6 29.5 6.8 29.7 7.2 30 7.7 30.6 7.3 30.9 7.2 31.5 6.9 32.2 6.7 32.9 6.8 33.6 6.9 34.6 7.4 35.3 8.6 36.8 11.6 32.1 17.8 26.2 13.5 20.3 9.3 14.5 10.7 11.9 11.5 9.3 12.4 8.1 13.3 9.2 15.3 10.6 18 10.1 17.1 11.5 19.4 13.6 22.9 18.3 17.7 18.3 17.7 14.8 23 11.8 21.7 10.6 19.9 9.6 18.2 8.8 16.3 8.8 16.3 -0.1 19.5 2.3 33.6 2.3 33.6L6.7 33.6C7.9 28.4 11.9 28.6 12.6 33.6L15.9 33.6C18.9 23.5 26.4 33.6 26.4 33.6L30.8 33.6C29.6 26.7 33.3 24.5 35.6 20.5 37.9 16.4 40.1 11.5 37.7 7.1L37.7 7.1ZM26.3 20.5C24 19.7 24.9 17.3 24.9 17.3 24.9 17.3 26.9 18 29.6 18.9 29.5 19.6 28.1 21 26.3 20.5L26.3 20.5Z"/><path d="M28.4 18.7C28.5 19.3 28 19.9 27.3 20 26.6 20.1 26 19.6 26 18.9 25.9 18.3 26.4 17.7 27.1 17.6 27.7 17.6 28.3 18 28.4 18.7"/><path d="M37.7 7.1C36.4 4.8 34 4 32.4 4 30.4 4 28.7 5.1 29 5.9 29.1 6 29.5 6.8 29.7 7.2 30 7.7 30.6 7.3 30.9 7.2 31.5 6.9 32.2 6.7 32.9 6.8 33.6 6.9 34.6 7.4 35.3 8.6 36.8 11.6 32.1 17.8 26.2 13.5 20.3 9.3 14.5 10.7 11.9 11.5 9.3 12.4 8.1 13.3 9.2 15.3 10.6 18 10.1 17.1 11.5 19.4 13.6 22.9 18.3 17.7 18.3 17.7 14.8 23 11.8 21.7 10.6 19.9 9.6 18.2 8.8 16.3 8.8 16.3 -0.1 19.5 2.3 33.6 2.3 33.6L6.7 33.6C7.9 28.4 11.9 28.6 12.6 33.6L15.9 33.6C18.9 23.5 26.4 33.6 26.4 33.6L30.8 33.6C29.6 26.7 33.3 24.5 35.6 20.5 37.9 16.4 40.1 11.5 37.7 7.1L37.7 7.1ZM26.3 20.5C24 19.7 24.9 17.3 24.9 17.3 24.9 17.3 26.9 18 29.6 18.9 29.5 19.6 28.1 21 26.3 20.5L26.3 20.5Z"/><path d="M28.4 18.7C28.5 19.3 28 19.9 27.3 20 26.6 20.1 26 19.6 26 18.9 25.9 18.3 26.4 17.7 27.1 17.6 27.7 17.6 28.3 18 28.4 18.7"/></g></g></svg></a></div><div class="site-footer-secondary__links"><a href="https://gradle.com/careers">Careers</a> |
                        <a href="https://gradle.org/privacy">Privacy</a> |
                        <a href="https://gradle.org/terms">Terms of Service</a> |
                        <a href="https://gradle.org/contact/">Contact</a></div></div></div></footer><script type="text/javascript">
                    // Polyfill Element.matches()
                    if (!Element.prototype.matches) {
                    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
                    }
                    // Polyfill Element.closest()
                    if (!Element.prototype.closest) {
                    Element.prototype.closest = function(s) {
                    var el = this;
                    if (!document.documentElement.contains(el)) return null;
                    do {
                    if (typeof el.matches === "function" && el.matches(s)) return el;
                    el = el.parentElement || el.parentNode;
                    } while (el !== null);
                    return null;
                    };
                    }
                    [].forEach.call(document.querySelectorAll(".docs-navigation a[href$='"+ window.location.pathname +"']"), function(link) {
                    // Add "active" to all links same as current URL
                    link.classList.add("active");

                    // Expand all parent navigation
                    var parentListEl = link.closest("li");
                    while (parentListEl !== null) {
                    var dropDownEl = parentListEl.querySelector(".nav-dropdown");
                    if (dropDownEl !== null) {
                    dropDownEl.classList.add("expanded");
                    }
                    parentListEl = parentListEl.parentNode.closest("li");
                    }
                    });

                    // Expand/contract multi-level side navigation
                    [].forEach.call(document.querySelectorAll(".docs-navigation .nav-dropdown"), function registerSideNavActions(collapsibleElement) {
                    collapsibleElement.addEventListener("click", function toggleExpandedSideNav(evt) {
                    evt.preventDefault();
                    evt.target.classList.toggle("expanded");
                    evt.target.setAttribute("aria-expanded", evt.target.classList.contains("expanded").toString());
                    return false;
                    }, false);
                    });
                </script></body></html>